(this["webpackJsonp@visa/vds-react"]=this["webpackJsonp@visa/vds-react"]||[]).push([[69],{287:function(e,n,t){"use strict";t.r(n);var a=t(85),o=t(518),r=t(0),s=t.n(r),l=t(517),c=t.n(l),i=t(2),m=t.n(i),u=t(524),d=t(522),p=t(39),f=t(8),b=t(508),E=t(18),h=t(24),x=t(17),v=t(509),I=t(62),C=t(134),y=t(510),g=t(511),L=t(512),k=t(513),N=t(514),R=t(7),S=t(137),O=t(523),w=t(140),P=t(644),T=t(645),D=t(1096),B=t(1118),F=function(){return s.a.createElement(h.a,null,s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement(R.a,{tag:"h2"},"Navmenu"))),s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement(B.a,{id:"test",menu:s.a.createElement(P.a,null,s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Link One"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Sign-out"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Apply"))),s.a.createElement(T.a,null,s.a.createElement(D.a,{disabled:!0},s.a.createElement("a",{href:"./"},"Disabled Link"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Settings"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Organic"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Disabled link"))),s.a.createElement(T.a,null,s.a.createElement(D.a,null,s.a.createElement("a",{href:"./"},"Last link")))),placement:"bottom-start"},s.a.createElement(w.a,{flippable:!0},s.a.createElement(O.a,null,"Go to"),s.a.createElement(S.a,null,s.a.createElement(E.a,{name:"arrow-expand",resolution:"tiny"})))))))},j=t(519),A=[t(520)],M=t(521),$="import React, { Children, cloneElement, useEffect, useRef, useState } from 'react';\nimport { element, number, oneOf, oneOfType, shape, string } from 'prop-types';\nimport classnames from 'classnames';\nimport shortid from 'shortid';\nimport { Manager, Reference, Popper } from 'react-popper';\nimport MenuCurtain from '../menu-curtain';\nimport Menu from '../menu';\n\nconst CSS_PREFIX = 'vds-navmenu';\n\nconst keyCode = {\n  DOWN: 40,\n  END: 35,\n  ESC: 27,\n  HOME: 36,\n  PAGEDOWN: 34,\n  PAGEUP: 33,\n  RETURN: 13,\n  SPACE: 32,\n  TAB: 9,\n  UP: 38\n};\n\nconst Navmenu = ({\n  children,\n  className,\n  id = shortid.generate(),\n  menu,\n  modifiers,\n  placement,\n  ...remainingProps\n}) => {\n  const [open, setOpen] = useState(false);\n  const [focusedIndex, setFocusedIndex] = useState(0);\n  const [focusableItems, setFocusableItems] = useState([]);\n  const [focusableItemsTextContent, setFocusableItemsTextContent] = useState({});\n  const [disabledFocusReturn, setDisabledFocusReturn] = useState(true);\n  const uniqueId = useRef(id);\n  const uid = uniqueId.current;\n  const listboxRef = useRef();\n  const buttonRef = useRef();\n\n  useEffect(() => {\n    if (listboxRef.current) {\n      const listBoxChildren = listboxRef.current.querySelectorAll(\n        'button:not([disabled]):not(.vds-state--disabled), [href]:not(.vds-state--disabled)'\n      );\n\n      setFocusableItems(listBoxChildren);\n\n      setFocusableItemsTextContent(Array.from(listBoxChildren).map(\n        (node, i) => ({\n          char: node.textContent.trim().toLowerCase().substring(0, 1),\n          index: i\n        })\n      ));\n    }\n  }, []);\n\n  useEffect(() => {\n    if (open) {\n      focusableItems[focusedIndex].focus();\n    }\n\n    if (!open && buttonRef.current && !disabledFocusReturn) {\n      buttonRef.current.focus();\n      setDisabledFocusReturn(false);\n    }\n  }, [disabledFocusReturn, focusedIndex, focusableItems, open]);\n\n  const handleClick = e => {\n    const isButton = e.target.tagName.toLowerCase() === 'button';\n    const isLink = e.target.tagName.toLowerCase() === 'a';\n\n    setOpen(!open);\n    if (!isButton && !isLink) {\n      e.preventDefault();\n    }\n  };\n\n  const handleKeyDown = e => {\n    const code = e.charCode || e.keyCode;\n    const count = focusableItems.length;\n    const isButton = e.currentTarget === buttonRef.current;\n    const isListBox = e.currentTarget === listboxRef.current;\n    const char = e.key.toLowerCase();\n    const isPrintableChar = char.length === 1 && char.match(/\\S/);\n    let focusId = 0;\n\n    if (isListBox) {\n      setDisabledFocusReturn(false);\n    }\n\n    if (e.ctrlKey || e.altKey || e.metaKey || (e.keyCode === keyCode.SPACE) || (e.keyCode === keyCode.RETURN)) {\n      return;\n    }\n\n    if (code === keyCode.END || code === keyCode.HOME) {\n      e.preventDefault();\n\n      if (isButton) {\n        setOpen(true);\n      }\n\n      if (count) {\n        focusId = code === keyCode.END ? count - 1 : 0;\n        setFocusedIndex(focusId);\n        focusableItems[focusId].focus();\n      }\n    }\n\n    if (code === keyCode.UP || code === keyCode.DOWN) {\n      e.preventDefault();\n\n      if (isButton) {\n        setOpen(true);\n        focusId = code === keyCode.UP\n          ? focusedIndex || count - 1\n          : focusedIndex || 0;\n      }\n\n      if (isListBox && count) {\n        focusId = code === keyCode.UP\n          ? focusedIndex - 1 < 0 ? count - 1 : focusedIndex - 1\n          : (focusedIndex + 1) % count;\n      }\n\n      if (count) {\n        setFocusedIndex(focusId);\n        focusableItems[focusId].focus();\n      }\n    }\n\n    if (code === keyCode.ENTER) {\n      setOpen(isButton);\n    }\n\n    if (code === keyCode.ESC) {\n      e.preventDefault();\n      setOpen(false);\n    }\n\n    // Tab\n    if (code === keyCode.TAB && isListBox) {\n      setDisabledFocusReturn(true);\n      setOpen(false);\n    }\n\n    if (isPrintableChar && open) {\n      const start = focusedIndex + 1 === count ? 0 : focusedIndex + 1;\n      const filteredTextContent = focusableItemsTextContent.filter(charObj =>\n        charObj.char === char && charObj.index !== focusedIndex\n      ).map(obj => obj.index);\n\n      let matchIndex = filteredTextContent.indexOf(start);\n      matchIndex = (matchIndex > -1)\n        ? filteredTextContent[matchIndex]\n        : filteredTextContent[0] === undefined ? -1 : filteredTextContent[0];\n\n      if (matchIndex > -1) {\n        setFocusedIndex(matchIndex);\n        focusableItems[matchIndex].focus();\n      }\n    }\n  };\n\n  return (\n    <Manager>\n      <div\n        className={classnames(CSS_PREFIX, className)}\n        {...remainingProps}\n      >\n        <Reference>\n          {({ ref }) => (\n            <span ref={ref}>\n              {\n                cloneElement(children, {\n                  active: open,\n                  'aria-controls': `${CSS_PREFIX}-listbox-${uid}`,\n                  'aria-expanded': open ? 'true' : undefined,\n                  'aria-haspopup': menu ? 'true' : 'false',\n                  id: uid,\n                  onClick: handleClick,\n                  onKeyDown: handleKeyDown,\n                  ref: buttonRef\n                })\n              }\n            </span>\n          )}\n        </Reference>\n        <Popper\n          modifiers={modifiers}\n          placement={placement}\n        >\n          {({ ref, style }) => (\n            <Menu\n              id={`${CSS_PREFIX}-menu-${uid}`}\n              position=\"absolute\"\n              ref={ref}\n              show={open}\n              style={{ ...style, overflowY: 'inherit' }}\n            >\n              {\n                cloneElement(menu, {\n                  'aria-labelledby': uid,\n                  children: Children.map(menu.props.children, (child, k) => cloneElement(child, {\n                    children: Children.map(child.props.children, (c, i) => cloneElement(c, {\n                      key: `${uid}-${k}-${i}`,\n                      role: 'menuitem',\n                      tabIndex: '-1'\n                    })),\n                    key: `${uid}-${k}`,\n                    role: 'none'\n                  })),\n                  id: `${CSS_PREFIX}-listbox-${uid}`,\n                  onClick: handleClick,\n                  onKeyDown: handleKeyDown,\n                  ref: listboxRef,\n                  role: 'menu'\n                })\n              }\n            </Menu>\n          )}\n        </Popper>\n      </div>\n      <MenuCurtain\n        onClick={handleClick}\n        show={open}\n      />\n    </Manager>\n  );\n};\n\nNavmenu.propTypes = {\n  /**\n   * @ignore\n   */\n  children: element,\n\n  /**\n   * @ignore\n   */\n  className: string,\n\n  /**\n   * ID\n   */\n  id: oneOfType([number, string]),\n\n  /**\n   * Menu\n   */\n  menu: element.isRequired,\n\n  /**\n   * Modifiers\n   */\n  modifiers: shape({}),\n\n  /**\n   * Placement\n   */\n  placement: oneOf([\n    'auto',\n    'bottom-end',\n    'bottom-start',\n    'bottom',\n    'left-end',\n    'left-start',\n    'left',\n    'right-end',\n    'right-start',\n    'right',\n    'top-end',\n    'top-start',\n    'top'\n  ])\n};\n\nNavmenu.defaultProps = {\n  modifiers: {\n    offset: {\n      enabled: true,\n      offset: '0, 15px'\n    }\n  },\n  placement: 'bottom-start'\n};\n\nNavmenu.displayName = 'Navmenu';\n\nexport default Navmenu;\n".replace("= memo(({","= React.forwardRef(({").replace("cloneElement(","React.cloneElement("),K="import React from 'react';\nimport ButtonAction from '../../button-action';\nimport ButtonLabel from '../../button-label';\nimport ButtonSplit from '../../button-split';\nimport Col from '../../col';\nimport Grid from '../../grid';\nimport Icon from '../../icon';\nimport Listbox from '../../listbox';\nimport ListboxItem from '../../listbox-item';\nimport ListboxItemContainer from '../../listbox-item-container';\nimport Navmenu from '../../navmenu';\nimport Row from '../../row';\nimport Typography from '../../typography';\n\nconst NavmenuExample = () => (\n  <Grid>\n    <Row>\n      <Col>\n        <Typography tag=\"h2\">Navmenu</Typography>\n      </Col>\n    </Row>\n    <Row>\n      <Col>\n        <Navmenu\n          id=\"test\"\n          menu={\n            <Listbox>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Link One</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Sign-out</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Apply</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer disabled>\n                  <a href=\"./\">Disabled Link</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Settings</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Organic</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Disabled link</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n              <ListboxItem>\n                <ListboxItemContainer>\n                  <a href=\"./\">Last link</a>\n                </ListboxItemContainer>\n              </ListboxItem>\n            </Listbox>\n          }\n          placement=\"bottom-start\"\n        >\n          <ButtonSplit flippable>\n            <ButtonLabel>Go to</ButtonLabel>\n            <ButtonAction>\n              <Icon name=\"arrow-expand\" resolution=\"tiny\" />\n            </ButtonAction>\n          </ButtonSplit>\n        </Navmenu>\n      </Col>\n    </Row>\n  </Grid>\n);\n\nexport default NavmenuExample;\n".replace(/'..\/..\//g,"'@visa/vds-react/"),G=function(e){var n=Object(o.a)({},e),t=Object(r.useState)({}),l=Object(a.a)(t,2),i=l[0],S=l[1];return Object(r.useEffect)((function(){try{S(M.parse($))}catch(e){console.log("\n        React-docgen could not parse props for Navmenu\n        check for fix here https://github.com/reactjs/react-docgen/issues/342")}}),[]),s.a.createElement(h.a,{siblingOfStickyFooter:!0},s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement(R.a,{tag:"h1"},"Navmenu"))),s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement(C.a,null,s.a.createElement(I.a,{tag:s.a.createElement(p.c,{exact:!0,to:"".concat("/vds-react","/components/navmenu"),activeClassName:"vds-state--selected"})},s.a.createElement(E.a,{name:"log",resolution:"low"}),"Navmenu Example"),s.a.createElement(I.a,{tag:s.a.createElement(p.c,{exact:!0,to:"".concat("/vds-react","/components/navmenu/code"),activeClassName:"vds-state--selected"})},s.a.createElement(E.a,{name:"code-fork-code-alt",resolution:"low"}),"JSX of Example"),s.a.createElement(I.a,{tag:s.a.createElement(p.c,{exact:!0,to:"".concat("/vds-react","/components/navmenu/html"),activeClassName:"vds-state--selected"})},s.a.createElement(E.a,{name:"code-fork-code-alt",resolution:"low"}),"HTML of Example")))),s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement("div",{className:m()({"vds-state--hidden":n.match.path!=="".concat("/vds-react","/components/navmenu"),"vds-state--show":n.match.path==="".concat("/vds-react","/components/navmenu")})},s.a.createElement(F,n)),s.a.createElement("div",{className:m()({"vds-state--hidden":n.match.path!=="".concat("/vds-react","/components/navmenu/code"),"vds-state--show":n.match.path==="".concat("/vds-react","/components/navmenu/code")})},s.a.createElement(u.a,Object.assign({},u.b,{theme:d.a,code:K,language:"jsx"}),(function(e){var n=e.className,t=e.style,a=e.tokens,o=e.getLineProps,r=e.getTokenProps;return s.a.createElement("pre",{className:n,style:t},a.map((function(e,n){return s.a.createElement("div",o({key:n,line:e}),s.a.createElement("span",{style:{display:"inline-block",opacity:"0.3",userSelect:"none",width:"2em"}},n+1),e.map((function(e,n){return s.a.createElement("span",r({key:n,token:e}))})))})))}))),s.a.createElement("div",{className:m()({"vds-state--hidden":n.match.path!=="".concat("/vds-react","/components/navmenu/html"),"vds-state--show":n.match.path==="".concat("/vds-react","/components/navmenu/html")})},s.a.createElement(u.a,Object.assign({},u.b,{theme:d.a,code:j.format(c.a.renderToStaticMarkup(s.a.createElement(F,n)),{css:"ignore",parser:"html",plugins:A,printWidth:120}),language:"html"}),(function(e){var n=e.className,t=e.style,a=e.tokens,o=e.getLineProps,r=e.getTokenProps;return s.a.createElement("pre",{className:n,style:t},a.map((function(e,n){return s.a.createElement("div",o({key:n,line:e}),s.a.createElement("span",{style:{display:"inline-block",opacity:"0.3",userSelect:"none",width:"2em"}},n+1),e.map((function(e,n){return s.a.createElement("span",r({key:n,token:e}))})))})))}))))),s.a.createElement(x.a,null,s.a.createElement(f.a,null,s.a.createElement(b.a,{className:m()(["components"]),dividerLines:!0,size:"compact"},s.a.createElement(v.a,{tag:"caption"},"Props"),s.a.createElement(k.a,null,s.a.createElement(N.a,{className:"vds-tr"},s.a.createElement(L.a,{"aria-sort":"none",role:"columnheader",scope:"col"},"Prop"),s.a.createElement(L.a,{"aria-sort":"none",role:"columnheader",scope:"col"},"Type"),s.a.createElement(L.a,{"aria-sort":"none",role:"columnheader",scope:"col"},"Default"),s.a.createElement(L.a,{"aria-sort":"none",role:"columnheader",scope:"col"},"Description"))),s.a.createElement(y.a,null,i.props&&Object.entries(i.props).filter((function(e){return"@ignore"!==e[1].description})).map((function(e,n){return s.a.createElement(N.a,{className:"vds-tr",key:n,tabIndex:"0"},s.a.createElement(g.a,{className:"vds-td"},e[0]," ",e[1].required?s.a.createElement("sup",{style:{color:"red"}}," required"):""),s.a.createElement(g.a,{className:"vds-td"},s.a.createElement("strong",null,e[1].type.name),e[1].type.value&&e[1].type.value.length?s.a.createElement("small",{style:{color:"#1a1f71"}},s.a.createElement("br",null),Array.isArray(e[1].type.value)?e[1].type.value.map((function(e){return e.value||e.name})).join(", "):"string"===typeof e[1].type.value?e[1].type.value:void 0):""),s.a.createElement(g.a,{className:"vds-td"},e[1].defaultValue?e[1].defaultValue.value:""),s.a.createElement(g.a,{className:"vds-td"},e[1].description))})))))))};G.displayName="NavmenuExample";n.default=G}}]);
//# sourceMappingURL=69.cea8e229.chunk.js.map