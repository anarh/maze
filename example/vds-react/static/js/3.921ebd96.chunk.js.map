{"version":3,"sources":["../node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/compute-scroll-into-view/es/index.js","../node_modules/downshift/dist/downshift.esm.js"],"names":["_assertThisInitialized","self","ReferenceError","isElement","el","nodeType","canOverflow","overflow","skipOverflowHiddenElements","isScrollable","clientHeight","scrollHeight","clientWidth","scrollWidth","style","getComputedStyle","overflowY","overflowX","frame","ownerDocument","defaultView","frameElement","getFrameElement","isHiddenByFrame","alignNearest","scrollingEdgeStart","scrollingEdgeEnd","scrollingSize","scrollingBorderStart","scrollingBorderEnd","elementEdgeStart","elementEdgeEnd","elementSize","idCounter","cbToCb","cb","noop","scrollIntoView","node","menuNode","target","options","scrollMode","block","inline","boundary","checkBoundary","TypeError","scrollingElement","document","documentElement","frames","cursor","parentNode","push","body","viewportWidth","window","visualViewport","width","innerWidth","viewportHeight","height","innerHeight","viewportX","scrollX","pageXOffset","viewportY","scrollY","pageYOffset","_target$getBoundingCl","getBoundingClientRect","targetHeight","targetWidth","targetTop","top","targetRight","right","targetBottom","bottom","targetLeft","left","targetBlock","targetInline","computations","index","length","_frame$getBoundingCli","frameStyle","borderLeft","parseInt","borderLeftWidth","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","blockScroll","inlineScroll","scrollbarWidth","offsetWidth","scrollbarHeight","offsetHeight","Math","max","scrollLeft","scrollTop","min","computeScrollIntoView","forEach","_ref","isOrContainsNode","parent","child","contains","debounce","fn","time","timeoutId","cancel","clearTimeout","wrapper","_len","arguments","args","Array","_key","setTimeout","apply","callAllEventHandlers","_len2","fns","_key2","event","_len3","_key3","some","concat","preventDownshiftDefault","hasOwnProperty","nativeEvent","handleRefs","_len4","refs","_key4","ref","current","unwrapArray","arg","defaultValue","isArray","isDOMElement","element","type","getElementProps","props","stateKeys","pickState","state","result","k","normalizeArrowKey","key","keyCode","indexOf","getNextWrappingIndex","moveAmount","baseIndex","itemCount","itemsLastIndex","newIndex","cleanupStatus","getStatusDiv","textContent","setStatus","status","documentProp","div","statusDiv","getElementById","createElement","setAttribute","Object","assign","border","clip","margin","padding","position","appendChild","stateChangeTypes","freeze","__proto__","unknown","mouseUp","itemMouseEnter","keyDownArrowUp","keyDownArrowDown","keyDownEscape","keyDownEnter","keyDownHome","keyDownEnd","clickItem","blurInput","changeInput","keyDownSpaceButton","clickButton","blurButton","controlledPropUpdatedSelectedItem","touchEnd","Downshift","_Component","_props","_this","call","this","id","String","menuId","labelId","inputId","getItemId","input","items","previousResultCount","timeoutIds","internalSetTimeout","filter","i","setItemCount","count","unsetItemCount","setHighlightedIndex","highlightedIndex","otherStateToSet","defaultHighlightedIndex","internalSetState","_extends","clearSelection","selectedItem","inputValue","isOpen","defaultIsOpen","selectItem","item","itemToString","selectItemAtIndex","itemIndex","selectHighlightedItem","getState","stateToSet","isItemSelected","onChangeArg","onStateChangeArg","isStateToSetFunction","onInputValueChange","getStateAndHelpers","setState","newStateToSet","stateReducer","nextState","nextFullState","keys","isControlledProp","onStateChange","onSelect","undefined","onChange","onUserAction","rootRef","_rootNode","getRootProps","_temp","_temp2","_extends2","_ref$refKey","refKey","rest","_objectWithoutPropertiesLoose","_ref2$suppressRefErro","suppressRefError","called","role","keyDownHandlers","ArrowDown","_this2","preventDefault","amount","shiftKey","moveHighlightedIndex","getItemCount","ArrowUp","_this3","Enter","_this$getState2","itemNode","getItemNodeFromIndex","hasAttribute","Escape","reset","buttonKeyDownHandlers","toggleMenu","inputKeyDownHandlers","Home","highlightFirstOrLastIndex","End","getToggleButtonProps","_temp3","_ref3","onClick","onKeyDown","onPress","onKeyUp","onBlur","enabledEventHandlers","buttonHandleClick","buttonHandleKeyDown","buttonHandleKeyUp","buttonHandleBlur","eventHandlers","disabled","environment","activeElement","focus","blurTarget","isMouseDown","getLabelProps","htmlFor","getInputProps","_temp4","_ref4","onInput","onChangeText","_eventHandlers","_this$getState4","inputHandleChange","inputHandleKeyDown","inputHandleBlur","autoComplete","value","downshiftButtonIsActive","dataset","toggle","menuRef","_menuNode","getMenuProps","_temp5","_temp6","_extends3","_ref5","_ref5$refKey","_ref6$suppressRefErro","getItemProps","_temp7","_enabledEventHandlers","_ref7","onMouseMove","onMouseDown","_ref7$item","customClickHandler","avoidScrolling","clearItems","_ref8","_ref9","_this$getState5","openMenu","closeMenu","updateStatus","resultCount","getA11yStatusMessage","highlightedItem","_this$props","_this$props$initialHi","initialHighlightedIndex","_highlightedIndex","_this$props$initialIs","initialIsOpen","_isOpen","_this$props$initialIn","initialInputValue","_inputValue","_this$props$initialSe","initialSelectedItem","_selectedItem","_state","_inheritsLoose","_proto","prototype","internalClearTimeouts","stateToMerge","_this4","reduce","scrollHighlightedItemIntoView","nextHighlightedIndex","first","_this$getState6","componentDidMount","_this5","targetWithinDownshift","checkActiveElement","contextNode","onMouseUp","onOuterClick","onTouchStart","isTouchMove","onTouchMove","onTouchEnd","contextWithinDownshift","addEventListener","cleanup","removeEventListener","shouldScroll","prevState","prevProps","currentHighlightedIndex","prevHighlightedIndex","componentDidUpdate","selectedItemChanged","componentWillUnmount","render","children","cloneElement","process","Component","getNextWrappingIndex$1","itemsLength","circular","nextIndex","getItemIndexByCharacterKey","keysSoFar","itemToStringParam","newHighlightedIndex","itemStrings","map","toLowerCase","startPosition","slice","findIndex","itemString","startsWith","isAcceptedCharacterKey","test","capitalizeString","string","toUpperCase","callOnChangeProps","changes","stateKey","propKey","handler","invokeOnChangeHandler","defaultProps","_ref2","prevItem","lastId","useId","_useState","useState","setId","useEffect","defaultStateValues","getHighlightedIndexOnOpen","offset","getDefaultValue","defaultPropKey","getInitialValue","initialPropKey","propTypes","PropTypes","array","isRequired","func","getA11ySelectionMessage","circularNavigation","bool","number","any","defaultSelectedItem","toggleButtonId","onSelectedItemChange","onHighlightedIndexChange","onIsOpenChange","shape","stateChangeTypes$1","MenuKeyDownArrowDown","MenuKeyDownArrowUp","MenuKeyDownEscape","MenuKeyDownHome","MenuKeyDownEnd","MenuKeyDownEnter","MenuKeyDownCharacter","MenuBlur","MenuMouseLeave","ItemMouseMove","ItemClick","ToggleButtonKeyDownCharacter","ToggleButtonKeyDownArrowDown","ToggleButtonKeyDownArrowUp","ToggleButtonClick","FunctionToggleMenu","FunctionOpenMenu","FunctionCloseMenu","FunctionSetHighlightedIndex","FunctionSelectItem","FunctionClearKeysSoFar","FunctionReset","downshiftSelectReducer","action","lowercasedKey","_lowercasedKey","_keysSoFar","Error","caller","validatePropTypes","useSelect","entries","checkPropTypes","name","s","a","userProps","_useEnhancedReducer","reducer","initialState","enhancedReducer","useCallback","newState","_useReducer","useReducer","dispatch","useEnhancedReducer","getInitialState","_useEnhancedReducer$","dispatchWithoutProps","_getElementIds","generateDefaultId","uniqueId","getElementIds","toggleButtonRef","useRef","itemRefs","isInitialMount","menuKeyDownHandlers","Tab","toggleButtonKeyDownHandlers","menuHandleKeyDown","menuHandleBlur","relatedTarget","menuHandleMouseLeave","toggleButtonHandleClick","toggleButtonHandleKeyDown","_ref2$refKey","toggleButtonNode","labelProps","onMouseLeave","tabIndex","_extends4","_ref3$refKey","getItemIndex","itemHandleMouseMove","itemHandleClick","newSelectedItem"],"mappings":"8IAAe,SAASA,EAAuBC,GAC7C,QAAa,IAATA,EACF,MAAM,IAAIC,eAAe,6DAG3B,OAAOD,E,0CCLT,SAASE,EAAUC,GACjB,OAAa,MAANA,GAA4B,kBAAPA,GAAmC,IAAhBA,EAAGC,SAGpD,SAASC,EAAYC,EAAUC,GAC7B,QAAIA,GAA2C,WAAbD,KAId,YAAbA,GAAuC,SAAbA,GAqBnC,SAASE,EAAaL,EAAII,GACxB,GAAIJ,EAAGM,aAAeN,EAAGO,cAAgBP,EAAGQ,YAAcR,EAAGS,YAAa,CACxE,IAAIC,EAAQC,iBAAiBX,EAAI,MACjC,OAAOE,EAAYQ,EAAME,UAAWR,IAA+BF,EAAYQ,EAAMG,UAAWT,IAbpG,SAAyBJ,GACvB,IAAIc,EATN,SAAyBd,GACvB,OAAKA,EAAGe,eAAkBf,EAAGe,cAAcC,YAIpChB,EAAGe,cAAcC,YAAYC,aAH3B,KAOGC,CAAgBlB,GAE5B,QAAKc,IAIEA,EAAMR,aAAeN,EAAGO,cAAgBO,EAAMN,YAAcR,EAAGS,aAM2DU,CAAgBnB,GAGjJ,OAAO,EAGT,SAASoB,EAAaC,EAAoBC,EAAkBC,EAAeC,EAAsBC,EAAoBC,EAAkBC,EAAgBC,GACrJ,OAAIF,EAAmBL,GAAsBM,EAAiBL,GAAoBI,EAAmBL,GAAsBM,EAAiBL,EACnI,EAGLI,GAAoBL,GAAsBO,GAAeL,GAAiBI,GAAkBL,GAAoBM,GAAeL,EAC1HG,EAAmBL,EAAqBG,EAG7CG,EAAiBL,GAAoBM,EAAcL,GAAiBG,EAAmBL,GAAsBO,EAAcL,EACtHI,EAAiBL,EAAmBG,EAGtC,EAGO,IC9CZI,EAAY,EAUhB,SAASC,EAAOC,GACd,MAAqB,oBAAPA,EAAoBA,EAAKC,EAGzC,SAASA,KAQT,SAASC,EAAeC,EAAMC,GACf,OAATD,GDuBU,SAAUE,EAAQC,GAChC,IAAIC,EAAaD,EAAQC,WACrBC,EAAQF,EAAQE,MAChBC,EAASH,EAAQG,OACjBC,EAAWJ,EAAQI,SACnBrC,EAA6BiC,EAAQjC,2BACrCsC,EAAoC,oBAAbD,EAA0BA,EAAW,SAAUP,GACxE,OAAOA,IAASO,GAGlB,IAAK1C,EAAUqC,GACb,MAAM,IAAIO,UAAU,kBAOtB,IAJA,IAAIC,EAAmBC,SAASD,kBAAoBC,SAASC,gBACzDC,EAAS,GACTC,EAASZ,EAENrC,EAAUiD,IAAWN,EAAcM,IAAS,CAGjD,IAFAA,EAASA,EAAOC,cAEDL,EAAkB,CAC/BG,EAAOG,KAAKF,GACZ,MAGEA,IAAWH,SAASM,MAAQ9C,EAAa2C,KAAY3C,EAAawC,SAASC,kBAI3EzC,EAAa2C,EAAQ5C,IACvB2C,EAAOG,KAAKF,GAqBhB,IAjBA,IAAII,EAAgBC,OAAOC,eAAiBA,eAAeC,MAAQC,WAC/DC,EAAiBJ,OAAOC,eAAiBA,eAAeI,OAASC,YACjEC,EAAYP,OAAOQ,SAAWC,YAC9BC,EAAYV,OAAOW,SAAWC,YAE9BC,EAAwB9B,EAAO+B,wBAC/BC,EAAeF,EAAsBR,OACrCW,EAAcH,EAAsBX,MACpCe,EAAYJ,EAAsBK,IAClCC,EAAcN,EAAsBO,MACpCC,EAAeR,EAAsBS,OACrCC,EAAaV,EAAsBW,KAEnCC,EAAwB,UAAVvC,GAA+B,YAAVA,EAAsB+B,EAAsB,QAAV/B,EAAkBmC,EAAeJ,EAAYF,EAAe,EACjIW,EAA0B,WAAXvC,EAAsBoC,EAAaP,EAAc,EAAe,QAAX7B,EAAmBgC,EAAcI,EACrGI,EAAe,GAEVC,EAAQ,EAAGA,EAAQlC,EAAOmC,OAAQD,IAAS,CAClD,IAAInE,EAAQiC,EAAOkC,GAEfE,EAAwBrE,EAAMqD,wBAC9BT,EAASyB,EAAsBzB,OAC/BH,EAAQ4B,EAAsB5B,MAC9BgB,EAAMY,EAAsBZ,IAC5BE,EAAQU,EAAsBV,MAC9BE,EAASQ,EAAsBR,OAC/BE,EAAOM,EAAsBN,KAEjC,GAAmB,cAAfvC,GAA8BgC,GAAa,GAAKM,GAAc,GAAKF,GAAgBjB,GAAkBe,GAAepB,GAAiBkB,GAAaC,GAAOG,GAAgBC,GAAUC,GAAcC,GAAQL,GAAeC,EAC1N,OAAOO,EAGT,IAAII,EAAazE,iBAAiBG,GAC9BuE,EAAaC,SAASF,EAAWG,gBAAiB,IAClDC,EAAYF,SAASF,EAAWK,eAAgB,IAChDC,EAAcJ,SAASF,EAAWO,iBAAkB,IACpDC,EAAeN,SAASF,EAAWS,kBAAmB,IACtDC,EAAc,EACdC,EAAe,EACfC,EAAiB,gBAAiBlF,EAAQA,EAAMmF,YAAcnF,EAAMN,YAAc6E,EAAaK,EAAc,EAC7GQ,EAAkB,iBAAkBpF,EAAQA,EAAMqF,aAAerF,EAAMR,aAAekF,EAAYI,EAAe,EAErH,GAAIhD,IAAqB9B,EAErBgF,EADY,UAAVvD,EACYuC,EACK,QAAVvC,EACKuC,EAAcrB,EACT,YAAVlB,EACKnB,EAAa2C,EAAWA,EAAYN,EAAgBA,EAAgB+B,EAAWI,EAAc7B,EAAYe,EAAaf,EAAYe,EAAcV,EAAcA,GAE9JU,EAAcrB,EAAiB,EAI7CsC,EADa,UAAXvD,EACauC,EACK,WAAXvC,EACMuC,EAAe3B,EAAgB,EAC1B,QAAXZ,EACMuC,EAAe3B,EAEfhC,EAAawC,EAAWA,EAAYR,EAAeA,EAAeiC,EAAYK,EAAa9B,EAAYmB,EAAcnB,EAAYmB,EAAeV,EAAaA,GAG9KyB,EAAcM,KAAKC,IAAI,EAAGP,EAAc/B,GACxCgC,EAAeK,KAAKC,IAAI,EAAGN,EAAenC,OACrC,CAEHkC,EADY,UAAVvD,EACYuC,EAAcP,EAAMiB,EACf,QAAVjD,EACKuC,EAAcH,EAASiB,EAAeM,EACjC,YAAV3D,EACKnB,EAAamD,EAAKI,EAAQjB,EAAQ8B,EAAWI,EAAeM,EAAiBpB,EAAaA,EAAcV,EAAcA,GAEtHU,GAAeP,EAAMb,EAAS,GAAKwC,EAAkB,EAInEH,EADa,UAAXvD,EACauC,EAAeF,EAAOQ,EACjB,WAAX7C,EACMuC,GAAgBF,EAAOtB,EAAQ,GAAKyC,EAAiB,EAChD,QAAXxD,EACMuC,EAAeN,EAAQiB,EAAcM,EAErC5E,EAAayD,EAAMJ,EAAOlB,EAAO8B,EAAYK,EAAcM,EAAgBjB,EAAcA,EAAeV,EAAaA,GAGtI,IAAIiC,EAAaxF,EAAMwF,WACnBC,EAAYzF,EAAMyF,UAGtBzB,GAAeyB,GAFfT,EAAcM,KAAKC,IAAI,EAAGD,KAAKI,IAAID,EAAYT,EAAahF,EAAMP,aAAemD,EAASwC,KAG1FnB,GAAgBuB,GAFhBP,EAAeK,KAAKC,IAAI,EAAGD,KAAKI,IAAIF,EAAaP,EAAcjF,EAAML,YAAc8C,EAAQyC,KAK7FhB,EAAa9B,KAAK,CAChBlD,GAAIc,EACJyD,IAAKuB,EACLjB,KAAMkB,IAIV,OAAOf,EC3JOyB,CAAsBvE,EAAM,CACxCO,SAAUN,EACVI,MAAO,UACPD,WAAY,cAENoE,SAAQ,SAAUC,GACxB,IAAI3G,EAAK2G,EAAK3G,GACVuE,EAAMoC,EAAKpC,IACXM,EAAO8B,EAAK9B,KAChB7E,EAAGuG,UAAYhC,EACfvE,EAAGsG,WAAazB,KAUpB,SAAS+B,EAAiBC,EAAQC,GAChC,OAAOD,IAAWC,GAASD,EAAOE,UAAYF,EAAOE,SAASD,GAYhE,SAASE,EAASC,EAAIC,GACpB,IAAIC,EAEJ,SAASC,IACHD,GACFE,aAAaF,GAIjB,SAASG,IACP,IAAK,IAAIC,EAAOC,UAAUtC,OAAQuC,EAAO,IAAIC,MAAMH,GAAOI,EAAO,EAAGA,EAAOJ,EAAMI,IAC/EF,EAAKE,GAAQH,UAAUG,GAGzBP,IACAD,EAAYS,YAAW,WACrBT,EAAY,KACZF,EAAGY,WAAM,EAAQJ,KAChBP,GAIL,OADAI,EAAQF,OAASA,EACVE,EAWT,SAASQ,IACP,IAAK,IAAIC,EAAQP,UAAUtC,OAAQ8C,EAAM,IAAIN,MAAMK,GAAQE,EAAQ,EAAGA,EAAQF,EAAOE,IACnFD,EAAIC,GAAST,UAAUS,GAGzB,OAAO,SAAUC,GACf,IAAK,IAAIC,EAAQX,UAAUtC,OAAQuC,EAAO,IAAIC,MAAMS,EAAQ,EAAIA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IACxGX,EAAKW,EAAQ,GAAKZ,UAAUY,GAG9B,OAAOJ,EAAIK,MAAK,SAAUpB,GAKxB,OAJIA,GACFA,EAAGY,WAAM,EAAQ,CAACK,GAAOI,OAAOb,IAG3BS,EAAMK,yBAA2BL,EAAMM,eAAe,gBAAkBN,EAAMO,YAAYF,4BAKvG,SAASG,IACP,IAAK,IAAIC,EAAQnB,UAAUtC,OAAQ0D,EAAO,IAAIlB,MAAMiB,GAAQE,EAAQ,EAAGA,EAAQF,EAAOE,IACpFD,EAAKC,GAASrB,UAAUqB,GAG1B,OAAO,SAAU3G,GACf0G,EAAKlC,SAAQ,SAAUoC,GACF,oBAARA,EACTA,EAAI5G,GACK4G,IACTA,EAAIC,QAAU7G,OA0DtB,SAAS8G,EAAYC,EAAKC,GAKxB,QAJAD,EAAMvB,MAAMyB,QAAQF,GAEpBA,EAAI,GAAKA,IAEGC,EACHA,EAEAD,EASX,SAASG,EAAaC,GAEpB,MAA+B,kBAAjBA,EAAQC,KAQxB,SAASC,EAAgBF,GACvB,OAAOA,EAAQG,MAejB,IAAIC,EAAY,CAAC,mBAAoB,aAAc,SAAU,eAAgB,QAM7E,SAASC,EAAUC,QACH,IAAVA,IACFA,EAAQ,IAGV,IAAIC,EAAS,GAMb,OALAH,EAAU/C,SAAQ,SAAUmD,GACtBF,EAAMnB,eAAeqB,KACvBD,EAAOC,GAAKF,EAAME,OAGfD,EAST,SAASE,EAAkB5B,GACzB,IAAI6B,EAAM7B,EAAM6B,IACZC,EAAU9B,EAAM8B,QAGpB,OAAIA,GAAW,IAAMA,GAAW,IAA+B,IAAzBD,EAAIE,QAAQ,SACzC,QAAUF,EAGZA,EAuBT,SAASG,EAAqBC,EAAYC,EAAWC,GACnD,IAAIC,EAAiBD,EAAY,GAER,kBAAdD,GAA0BA,EAAY,GAAKA,GAAaC,KACjED,EAAYD,EAAa,GAAK,EAAIG,EAAiB,GAGrD,IAAIC,EAAWH,EAAYD,EAQ3B,OANII,EAAW,EACbA,EAAWD,EACFC,EAAWD,IACpBC,EAAW,GAGNA,EAGT,IAAIC,EAAgBxD,GAAS,WAC3ByD,IAAeC,YAAc,KAC5B,KAMH,SAASC,EAAUC,EAAQC,GACzB,IAAIC,EAAML,EAAaI,GAElBD,IAILE,EAAIJ,YAAcE,EAClBJ,KASF,SAASC,EAAaI,QACC,IAAjBA,IACFA,EAAehI,UAGjB,IAAIkI,EAAYF,EAAaG,eAAe,uBAE5C,OAAID,KAIJA,EAAYF,EAAaI,cAAc,QAC7BC,aAAa,KAAM,uBAC7BH,EAAUG,aAAa,OAAQ,UAC/BH,EAAUG,aAAa,YAAa,UACpCH,EAAUG,aAAa,gBAAiB,kBACxCC,OAAOC,OAAOL,EAAUrK,MAAO,CAC7B2K,OAAQ,IACRC,KAAM,gBACN5H,OAAQ,MACR6H,OAAQ,OACRpL,SAAU,SACVqL,QAAS,IACTC,SAAU,WACVlI,MAAO,QAETsH,EAAa1H,KAAKuI,YAAYX,GACvBA,GAGT,IAkBIY,EAAgCR,OAAOS,OAAO,CAChDC,UAAW,KACXC,QApBiF,EAqBjFC,QApBiF,EAqBjFC,eApBgG,EAqBhGC,eApBiG,EAqBjGC,iBApBqG,EAqBrGC,cApB8F,EAqB9FC,aApB4F,EAqB5FC,YApB0F,EAqB1FC,WApBwF,EAqBxFC,UApBsF,EAqBtFC,UApBsF,GAqBtFC,YApB0F,GAqB1FC,mBApByG,GAqBzGC,YApB0F,GAqB1FC,WApBwF,GAqBxFC,kCApByI,GAqBzIC,SApBmF,KAuBjFC,EAEJ,SAAUC,GAGR,SAASD,EAAUE,GACjB,IAAIC,EAAQF,EAAWG,KAAKC,KAAMH,IAAWG,KAE7CF,EAAMG,GAAKH,EAAM1D,MAAM6D,IAAM,aA3QxBC,OAAOzL,KA4QZqL,EAAMK,OAASL,EAAM1D,MAAM+D,QAAUL,EAAMG,GAAK,QAChDH,EAAMM,QAAUN,EAAM1D,MAAMgE,SAAWN,EAAMG,GAAK,SAClDH,EAAMO,QAAUP,EAAM1D,MAAMiE,SAAWP,EAAMG,GAAK,SAElDH,EAAMQ,UAAYR,EAAM1D,MAAMkE,WAAa,SAAUzI,GACnD,OAAOiI,EAAMG,GAAK,SAAWpI,GAG/BiI,EAAMS,MAAQ,KACdT,EAAMU,MAAQ,GACdV,EAAM7C,UAAY,KAClB6C,EAAMW,oBAAsB,EAC5BX,EAAMY,WAAa,GAEnBZ,EAAMa,mBAAqB,SAAU9G,EAAIC,GACvC,IAAImG,EAAKzF,YAAW,WAClBsF,EAAMY,WAAaZ,EAAMY,WAAWE,QAAO,SAAUC,GACnD,OAAOA,IAAMZ,KAEfpG,MACCC,GAEHgG,EAAMY,WAAW5K,KAAKmK,IAGxBH,EAAMgB,aAAe,SAAUC,GAC7BjB,EAAM7C,UAAY8D,GAGpBjB,EAAMkB,eAAiB,WACrBlB,EAAM7C,UAAY,MAGpB6C,EAAMmB,oBAAsB,SAAUC,EAAkBC,QAC7B,IAArBD,IACFA,EAAmBpB,EAAM1D,MAAMgF,8BAGT,IAApBD,IACFA,EAAkB,IAGpBA,EAAkB7E,EAAU6E,GAE5BrB,EAAMuB,iBAAiBC,YAAS,CAC9BJ,iBAAkBA,GACjBC,KAGLrB,EAAMyB,eAAiB,SAAU5M,GAC/BmL,EAAMuB,iBAAiB,CACrBG,aAAc,KACdC,WAAY,GACZP,iBAAkBpB,EAAM1D,MAAMgF,wBAC9BM,OAAQ5B,EAAM1D,MAAMuF,eACnBhN,IAGLmL,EAAM8B,WAAa,SAAUC,EAAMV,EAAiBxM,GAClDwM,EAAkB7E,EAAU6E,GAE5BrB,EAAMuB,iBAAiBC,YAAS,CAC9BI,OAAQ5B,EAAM1D,MAAMuF,cACpBT,iBAAkBpB,EAAM1D,MAAMgF,wBAC9BI,aAAcK,EACdJ,WAAY3B,EAAM1D,MAAM0F,aAAaD,IACpCV,GAAkBxM,IAGvBmL,EAAMiC,kBAAoB,SAAUC,EAAWb,EAAiBxM,GAC9D,IAAIkN,EAAO/B,EAAMU,MAAMwB,GAEX,MAARH,GAIJ/B,EAAM8B,WAAWC,EAAMV,EAAiBxM,IAG1CmL,EAAMmC,sBAAwB,SAAUd,EAAiBxM,GACvD,OAAOmL,EAAMiC,kBAAkBjC,EAAMoC,WAAWhB,iBAAkBC,EAAiBxM,IAGrFmL,EAAMuB,iBAAmB,SAAUc,EAAYxN,GAC7C,IAAIyN,EAAgBC,EAChBC,EAAmB,GACnBC,EAA6C,oBAAfJ,EAUlC,OAJKI,GAAwBJ,EAAW/G,eAAe,eACrD0E,EAAM1D,MAAMoG,mBAAmBL,EAAWV,WAAYH,YAAS,GAAIxB,EAAM2C,qBAAsB,GAAIN,IAG9FrC,EAAM4C,UAAS,SAAUnG,GAC9BA,EAAQuD,EAAMoC,SAAS3F,GACvB,IAAIoG,EAAgBJ,EAAuBJ,EAAW5F,GAAS4F,EAE/DQ,EAAgB7C,EAAM1D,MAAMwG,aAAarG,EAAOoG,GAIhDP,EAAiBO,EAAcvH,eAAe,gBAE9C,IAAIyH,EAAY,GAEZC,EAAgB,GAsCpB,OAlCIV,GAAkBO,EAAcnB,eAAiBjF,EAAMiF,eACzDa,EAAcM,EAAcnB,cAG9BmB,EAAczG,KAAOyG,EAAczG,MApKwC,EAqK3E6B,OAAOgF,KAAKJ,GAAerJ,SAAQ,SAAUqD,GAGvCJ,EAAMI,KAASgG,EAAchG,KAC/B2F,EAAiB3F,GAAOgG,EAAchG,IAS5B,SAARA,IAIJmG,EAAcnG,GAAOgG,EAAchG,GAE9BmD,EAAMkD,iBAAiBrG,KAC1BkG,EAAUlG,GAAOgG,EAAchG,QAK/B4F,GAAwBI,EAAcvH,eAAe,eACvD0E,EAAM1D,MAAMoG,mBAAmBG,EAAclB,WAAYH,YAAS,GAAIxB,EAAM2C,qBAAsB,GAAIE,IAGjGE,KACN,WAEDnO,EAAOC,EAAPD,GAG2BqJ,OAAOgF,KAAKT,GAAkBxK,OAAS,GAGhEgI,EAAM1D,MAAM6G,cAAcX,EAAkBxC,EAAM2C,sBAGhDL,GACFtC,EAAM1D,MAAM8G,SAASf,EAAWX,aAAc1B,EAAM2C,2BAGlCU,IAAhBd,GACFvC,EAAM1D,MAAMgH,SAASf,EAAavC,EAAM2C,sBAK1C3C,EAAM1D,MAAMiH,aAAaf,EAAkBxC,EAAM2C,0BAIrD3C,EAAMwD,QAAU,SAAUxO,GACxB,OAAOgL,EAAMyD,UAAYzO,GAG3BgL,EAAM0D,aAAe,SAAUC,EAAOC,GACpC,IAAIC,EAEApK,OAAiB,IAAVkK,EAAmB,GAAKA,EAC/BG,EAAcrK,EAAKsK,OACnBA,OAAyB,IAAhBD,EAAyB,MAAQA,EAC1ClI,EAAMnC,EAAKmC,IACXoI,EAAOC,YAA8BxK,EAAM,CAAC,SAAU,QAGtDyK,QADmB,IAAXN,EAAoB,GAAKA,GACHO,iBAC9BA,OAA6C,IAA1BD,GAA2CA,EAIlElE,EAAM0D,aAAaU,QAAS,EAC5BpE,EAAM0D,aAAaK,OAASA,EAC5B/D,EAAM0D,aAAaS,iBAAmBA,EAEtC,IACIvC,EADiB5B,EAAMoC,WACCR,OAE5B,OAAOJ,cAAUqC,EAAY,IAAcE,GAAUvI,EAAWI,EAAKoE,EAAMwD,SAAUK,EAAUQ,KAAO,WAAYR,EAAU,iBAAmBjC,EAAQiC,EAAU,iBAAmB,UAAWA,EAAU,aAAejC,EAAS5B,EAAMK,OAAS,KAAMwD,EAAU,mBAAqB7D,EAAMM,QAASuD,GAAYG,IAGlThE,EAAMsE,gBAAkB,CACtBC,UAAW,SAAmBvJ,GAC5B,IAAIwJ,EAAStE,KAIb,GAFAlF,EAAMyJ,iBAEFvE,KAAKkC,WAAWR,OAAQ,CAC1B,IAAI8C,EAAS1J,EAAM2J,SAAW,EAAI,EAClCzE,KAAK0E,qBAAqBF,EAAQ,CAChCtI,KA9P2F,SAiQ7F8D,KAAKqB,iBAAiB,CACpBK,QAAQ,EACRxF,KAnQ2F,IAoQ1F,WACD,IAAIe,EAAYqH,EAAOK,eAEnB1H,EAAY,GACdqH,EAAOrD,oBAAoBnE,EAAqB,EAAGwH,EAAOpC,WAAWhB,iBAAkBjE,GAAY,CACjGf,KAzQuF,QA+QjG0I,QAAS,SAAiB9J,GACxB,IAAI+J,EAAS7E,KAIb,GAFAlF,EAAMyJ,iBAEFvE,KAAKkC,WAAWR,OAAQ,CAC1B,IAAI8C,EAAS1J,EAAM2J,UAAY,GAAK,EACpCzE,KAAK0E,qBAAqBF,EAAQ,CAChCtI,KAxRuF,SA2RzF8D,KAAKqB,iBAAiB,CACpBK,QAAQ,EACRxF,KA7RuF,IA8RtF,WACD,IAAIe,EAAY4H,EAAOF,eAEnB1H,EAAY,GACd4H,EAAO5D,oBAAoBnE,GAAsB,EAAG+H,EAAO3C,WAAWhB,iBAAkBjE,GAAY,CAClGf,KAlSuF,QAwSjG4I,MAAO,SAAehK,GACpB,IAAIiK,EAAkB/E,KAAKkC,WACvBR,EAASqD,EAAgBrD,OACzBR,EAAmB6D,EAAgB7D,iBAEvC,GAAIQ,GAA8B,MAApBR,EAA0B,CACtCpG,EAAMyJ,iBACN,IAAI1C,EAAO7B,KAAKQ,MAAMU,GAClB8D,EAAWhF,KAAKiF,qBAAqB/D,GAEzC,GAAY,MAARW,GAAgBmD,GAAYA,EAASE,aAAa,YACpD,OAGFlF,KAAKiC,sBAAsB,CACzB/F,KArTkF,MAyTxFiJ,OAAQ,SAAgBrK,GACtBA,EAAMyJ,iBACNvE,KAAKoF,MAAM,CACTlJ,KA7TsF,EA8TtFsF,aAAc,KACdC,WAAY,OAIlB3B,EAAMuF,sBAAwB/D,YAAS,GAAIxB,EAAMsE,gBAAiB,CAChE,IAAK,SAAWtJ,GACdA,EAAMyJ,iBACNvE,KAAKsF,WAAW,CACdpJ,KAhUiG,QAoUvG4D,EAAMyF,qBAAuBjE,YAAS,GAAIxB,EAAMsE,gBAAiB,CAC/DoB,KAAM,SAAc1K,GAClBkF,KAAKyF,0BAA0B3K,GAAO,EAAM,CAC1CoB,KA5UkF,KA+UtFwJ,IAAK,SAAa5K,GAChBkF,KAAKyF,0BAA0B3K,GAAO,EAAO,CAC3CoB,KAhVgF,OAqVtF4D,EAAM6F,qBAAuB,SAAUC,GACrC,IAAIC,OAAmB,IAAXD,EAAoB,GAAKA,EACjCE,EAAUD,EAAMC,QAEhBC,GADUF,EAAMG,QACJH,EAAME,WAClBE,EAAUJ,EAAMI,QAChBC,EAASL,EAAMK,OACfpC,EAAOC,YAA8B8B,EAAO,CAAC,UAAW,UAAW,YAAa,UAAW,WAG3FnE,EADkB5B,EAAMoC,WACCR,OAEzByE,EAAuB,CACzBL,QAASpL,EAAqBoL,EAAShG,EAAMsG,mBAC7CL,UAAWrL,EAAqBqL,EAAWjG,EAAMuG,qBACjDJ,QAASvL,EAAqBuL,EAASnG,EAAMwG,mBAC7CJ,OAAQxL,EAAqBwL,EAAQpG,EAAMyG,mBAEzCC,EAAgB1C,EAAK2C,SAAW,GAAKN,EACzC,OAAO7E,YAAS,CACdpF,KAAM,SACNiI,KAAM,SACN,aAAczC,EAAS,aAAe,YACtC,iBAAiB,EACjB,eAAe,GACd8E,EAAe,GAAI1C,IAGxBhE,EAAMwG,kBAAoB,SAAUxL,GAElCA,EAAMyJ,kBAGRzE,EAAMuG,oBAAsB,SAAUvL,GACpC,IAAI6B,EAAMD,EAAkB5B,GAExBgF,EAAMuF,sBAAsB1I,IAC9BmD,EAAMuF,sBAAsB1I,GAAKoD,KAAKvN,EAAuBsN,GAAQhF,IAIzEgF,EAAMsG,kBAAoB,SAAUtL,GAClCA,EAAMyJ,iBAKDzE,EAAM1D,MAAMsK,YAAYjR,SAASkR,gBAAkB7G,EAAM1D,MAAMsK,YAAYjR,SAASM,MACvF+E,EAAM9F,OAAO4R,QAYb9G,EAAMa,oBAAmB,WACvB,OAAOb,EAAMwF,WAAW,CACtBpJ,KA9YgF,SAoZxF4D,EAAMyG,iBAAmB,SAAUzL,GACjC,IAAI+L,EAAa/L,EAAM9F,OAGvB8K,EAAMa,oBAAmB,WAClBb,EAAMgH,aAAkE,MAAlDhH,EAAM1D,MAAMsK,YAAYjR,SAASkR,eAAyB7G,EAAM1D,MAAMsK,YAAYjR,SAASkR,cAAc1G,KAAOH,EAAMO,SAAYP,EAAM1D,MAAMsK,YAAYjR,SAASkR,gBAAkBE,GAE5M/G,EAAMsF,MAAM,CACVlJ,KA3Z4E,SAiatF4D,EAAMiH,cAAgB,SAAU3K,GAC9B,OAAOkF,YAAS,CACd0F,QAASlH,EAAMO,QACfJ,GAAIH,EAAMM,SACThE,IAGL0D,EAAMmH,cAAgB,SAAUC,GAC9B,IAAIC,OAAmB,IAAXD,EAAoB,GAAKA,EACjCnB,EAAYoB,EAAMpB,UAClBG,EAASiB,EAAMjB,OACf9C,EAAW+D,EAAM/D,SACjBgE,EAAUD,EAAMC,QAEhBtD,GADeqD,EAAME,aACdtD,YAA8BoD,EAAO,CAAC,YAAa,SAAU,WAAY,UAAW,kBAG3FX,EAAgB,GAKpB,IAMMc,EANFC,EAAkBzH,EAAMoC,WACxBT,EAAa8F,EAAgB9F,WAC7BC,EAAS6F,EAAgB7F,OACzBR,EAAmBqG,EAAgBrG,iBAElC4C,EAAK2C,YAGSa,EAAiB,IAAkB,SAAgB5M,EAAqB0I,EAAUgE,EAAStH,EAAM0H,mBAAoBF,EAAevB,UAAYrL,EAAqBqL,EAAWjG,EAAM2H,oBAAqBH,EAAepB,OAASxL,EAAqBwL,EAAQpG,EAAM4H,iBAAvRlB,EAAySc,GAK3S,OAAOhG,YAAS,CACd,oBAAqB,OACrB,wBAAyBI,GAAsC,kBAArBR,GAAiCA,GAAoB,EAAIpB,EAAMQ,UAAUY,GAAoB,KACvI,gBAAiBQ,EAAS5B,EAAMK,OAAS,KACzC,kBAAmBL,EAAMM,QAGzBuH,aAAc,MACdC,MAAOnG,EACPxB,GAAIH,EAAMO,SACTmG,EAAe,GAAI1C,IAGxBhE,EAAM2H,mBAAqB,SAAU3M,GACnC,IAAI6B,EAAMD,EAAkB5B,GAExB6B,GAAOmD,EAAMyF,qBAAqB5I,IACpCmD,EAAMyF,qBAAqB5I,GAAKoD,KAAKvN,EAAuBsN,GAAQhF,IAIxEgF,EAAM0H,kBAAoB,SAAU1M,GAClCgF,EAAMuB,iBAAiB,CACrBnF,KA9doF,GA+dpFwF,QAAQ,EACRD,WAAY3G,EAAM9F,OAAO4S,MACzB1G,iBAAkBpB,EAAM1D,MAAMgF,2BAIlCtB,EAAM4H,gBAAkB,WAEtB5H,EAAMa,oBAAmB,WACvB,IAAIkH,EAA0B/H,EAAM1D,MAAMsK,YAAYjR,YAAcqK,EAAM1D,MAAMsK,YAAYjR,SAASkR,iBAAmB7G,EAAM1D,MAAMsK,YAAYjR,SAASkR,cAAcmB,SAAWhI,EAAM1D,MAAMsK,YAAYjR,SAASkR,cAAcmB,QAAQC,QAAUjI,EAAMyD,WAAazD,EAAMyD,UAAU5J,SAASmG,EAAM1D,MAAMsK,YAAYjR,SAASkR,eAE3T7G,EAAMgH,aAAgBe,GACzB/H,EAAMsF,MAAM,CACVlJ,KA7e4E,SAmfpF4D,EAAMkI,QAAU,SAAUlT,GACxBgL,EAAMmI,UAAYnT,GAGpBgL,EAAMoI,aAAe,SAAUC,EAAQC,GACrC,IAAIC,EAEAC,OAAmB,IAAXH,EAAoB,GAAKA,EACjCI,EAAeD,EAAMzE,OACrBA,OAA0B,IAAjB0E,EAA0B,MAAQA,EAC3C7M,EAAM4M,EAAM5M,IACZU,EAAQ2H,YAA8BuE,EAAO,CAAC,SAAU,QAGxDE,QADmB,IAAXJ,EAAoB,GAAKA,GACHnE,iBAC9BA,OAA6C,IAA1BuE,GAA2CA,EAKlE,OAHA1I,EAAMoI,aAAahE,QAAS,EAC5BpE,EAAMoI,aAAarE,OAASA,EAC5B/D,EAAMoI,aAAajE,iBAAmBA,EAC/B3C,cAAU+G,EAAY,IAAcxE,GAAUvI,EAAWI,EAAKoE,EAAMkI,SAAUK,EAAUlE,KAAO,UAAWkE,EAAU,mBAAqBjM,GAASA,EAAM,cAAgB,KAAO0D,EAAMM,QAASiI,EAAUpI,GAAKH,EAAMK,OAAQkI,GAAYjM,IAGhP0D,EAAM2I,aAAe,SAAUC,GAC7B,IAAIC,EAEAC,OAAmB,IAAXF,EAAoB,GAAKA,EACjCG,EAAcD,EAAMC,YACpBC,EAAcF,EAAME,YACpBhD,EAAU8C,EAAM9C,QAEhBjO,GADU+Q,EAAM5C,QACR4C,EAAM/Q,OACdkR,EAAaH,EAAM/G,KACnBA,OAAsB,IAAfkH,OAEX5F,EAAmD4F,EAC/CjF,EAAOC,YAA8B6E,EAAO,CAAC,cAAe,cAAe,UAAW,UAAW,QAAS,cAEhGzF,IAAVtL,GACFiI,EAAMU,MAAM1K,KAAK+L,GAEjBhK,EAAQiI,EAAMU,MAAM3D,QAAQgF,IAE5B/B,EAAMU,MAAM3I,GAASgK,EAGvB,IACImH,EAAqBlD,EACrBK,IAAwBwC,EAAwB,CAIlDE,YAAanO,EAAqBmO,GAAa,WACzChR,IAAUiI,EAAMoC,WAAWhB,mBAI/BpB,EAAMmB,oBAAoBpJ,EAAO,CAC/BqE,KArjBsF,IA4jBxF4D,EAAMmJ,gBAAiB,EAEvBnJ,EAAMa,oBAAmB,WACvB,OAAOb,EAAMmJ,gBAAiB,IAC7B,SAELH,YAAapO,EAAqBoO,GAAa,SAAUhO,GAIvDA,EAAMyJ,sBAEc,QAAgB7J,EAAqBsO,GAAoB,WAC/ElJ,EAAMiC,kBAAkBlK,EAAO,CAC7BqE,KAnkB8E,OAqkB9EyM,GAGAnC,EAAgB1C,EAAK2C,SAAW,CAClCqC,YAAa3C,EAAqB2C,aAChC3C,EACJ,OAAO7E,YAAS,CACdrB,GAAIH,EAAMQ,UAAUzI,GACpBsM,KAAM,SACN,gBAAiBrE,EAAMoC,WAAWhB,mBAAqBrJ,GACtD2O,EAAe,GAAI1C,IAGxBhE,EAAMoJ,WAAa,WACjBpJ,EAAMU,MAAQ,IAGhBV,EAAMsF,MAAQ,SAAUjE,EAAiBxM,QACf,IAApBwM,IACFA,EAAkB,IAGpBA,EAAkB7E,EAAU6E,GAE5BrB,EAAMuB,kBAAiB,SAAU8H,GAC/B,IAAI3H,EAAe2H,EAAM3H,aACzB,OAAOF,YAAS,CACdI,OAAQ5B,EAAM1D,MAAMuF,cACpBT,iBAAkBpB,EAAM1D,MAAMgF,wBAC9BK,WAAY3B,EAAM1D,MAAM0F,aAAaN,IACpCL,KACFxM,IAGLmL,EAAMwF,WAAa,SAAUnE,EAAiBxM,QACpB,IAApBwM,IACFA,EAAkB,IAGpBA,EAAkB7E,EAAU6E,GAE5BrB,EAAMuB,kBAAiB,SAAU+H,GAC/B,IAAI1H,EAAS0H,EAAM1H,OACnB,OAAOJ,YAAS,CACdI,QAASA,GACRA,GAAU,CACXR,iBAAkBpB,EAAM1D,MAAMgF,yBAC7B,GAAID,MACN,WACD,IAAIkI,EAAkBvJ,EAAMoC,WACxBR,EAAS2H,EAAgB3H,OACzBR,EAAmBmI,EAAgBnI,iBAEnCQ,GACE5B,EAAM6E,eAAiB,GAAiC,kBAArBzD,GACrCpB,EAAMmB,oBAAoBC,EAAkBC,GAIhDzM,EAAOC,EAAPD,OAIJoL,EAAMwJ,SAAW,SAAU3U,GACzBmL,EAAMuB,iBAAiB,CACrBK,QAAQ,GACP/M,IAGLmL,EAAMyJ,UAAY,SAAU5U,GAC1BmL,EAAMuB,iBAAiB,CACrBK,QAAQ,GACP/M,IAGLmL,EAAM0J,aAAe5P,GAAS,WAC5B,IAAI2C,EAAQuD,EAAMoC,WAEdL,EAAO/B,EAAMU,MAAMjE,EAAM2E,kBAEzBuI,EAAc3J,EAAM6E,eAEpBnH,EAASsC,EAAM1D,MAAMsN,qBAAqBpI,YAAS,CACrDQ,aAAchC,EAAM1D,MAAM0F,aAC1BrB,oBAAqBX,EAAMW,oBAC3BgJ,YAAaA,EACbE,gBAAiB9H,GAChBtF,IAEHuD,EAAMW,oBAAsBgJ,EAC5BlM,EAAUC,EAAQsC,EAAM1D,MAAMsK,YAAYjR,YACzC,KAKH,IAAImU,EAAc9J,EAAM1D,MACpBgF,EAA0BwI,EAAYxI,wBACtCyI,EAAwBD,EAAYE,wBACpCC,OAA8C,IAA1BF,EAAmCzI,EAA0ByI,EACjFlI,EAAgBiI,EAAYjI,cAC5BqI,EAAwBJ,EAAYK,cACpCC,OAAoC,IAA1BF,EAAmCrI,EAAgBqI,EAC7DG,EAAwBP,EAAYQ,kBACpCC,OAAwC,IAA1BF,EAAmC,GAAKA,EACtDG,EAAwBV,EAAYW,oBACpCC,OAA0C,IAA1BF,EAAmC,KAAOA,EAE1DG,EAAS3K,EAAMoC,SAAS,CAC1BhB,iBAAkB6I,EAClBrI,OAAQwI,EACRzI,WAAY4I,EACZ7I,aAAcgJ,IAQhB,OAL2B,MAAvBC,EAAOjJ,mBAA0D2B,IAAlCrD,EAAM1D,MAAMgO,oBAC7CK,EAAOhJ,WAAa3B,EAAM1D,MAAM0F,aAAa2I,EAAOjJ,eAGtD1B,EAAMvD,MAAQkO,EACP3K,EA5pBT4K,YAAe/K,EAAWC,GA+pB1B,IAAI+K,EAAShL,EAAUiL,UA8VvB,OAzVAD,EAAOE,sBAAwB,WAC7B7K,KAAKU,WAAWpH,SAAQ,SAAU2G,GAChChG,aAAagG,MAEfD,KAAKU,WAAa,IAmBpBiK,EAAOzI,SAAW,SAAkB4I,GAClC,IAAIC,EAAS/K,KAMb,YAJqB,IAAjB8K,IACFA,EAAe9K,KAAKzD,OAGfwB,OAAOgF,KAAK+H,GAAcE,QAAO,SAAUzO,EAAOI,GAEvD,OADAJ,EAAMI,GAAOoO,EAAO/H,iBAAiBrG,GAAOoO,EAAO3O,MAAMO,GAAOmO,EAAanO,GACtEJ,IACN,KAWLoO,EAAO3H,iBAAmB,SAA0BrG,GAClD,YAA2BwG,IAApBnD,KAAK5D,MAAMO,IAGpBgO,EAAOhG,aAAe,WAKpB,IAAI1H,EAAY+C,KAAKQ,MAAM1I,OAQ3B,OANsB,MAAlBkI,KAAK/C,UACPA,EAAY+C,KAAK/C,eACiBkG,IAAzBnD,KAAK5D,MAAMa,YACpBA,EAAY+C,KAAK5D,MAAMa,WAGlBA,GAGT0N,EAAO1F,qBAAuB,SAA8BpN,GAC1D,OAAOmI,KAAK5D,MAAMsK,YAAYjR,SAASmI,eAAeoC,KAAKM,UAAUzI,KAGvE8S,EAAOM,8BAAgC,WAGnC,IAAInW,EAAOkL,KAAKiF,qBAAqBjF,KAAKkC,WAAWhB,kBACrDlB,KAAK5D,MAAMvH,eAAeC,EAAMkL,KAAKiI,YAIzC0C,EAAOjG,qBAAuB,SAA8BF,EAAQrD,GAClE,IAAIlE,EAAY+C,KAAK2E,eAErB,GAAI1H,EAAY,EAAG,CACjB,IAAIiO,EAAuBpO,EAAqB0H,EAAQxE,KAAKkC,WAAWhB,iBAAkBjE,GAC1F+C,KAAKiB,oBAAoBiK,EAAsB/J,KAInDwJ,EAAOlF,0BAA4B,SAAmC3K,EAAOqQ,EAAOhK,GAClF,IAAIjE,EAAiB8C,KAAK2E,eAAiB,EAEvCzH,EAAiB,IAAM8C,KAAKkC,WAAWR,SAI3C5G,EAAMyJ,iBACNvE,KAAKiB,oBAAoBkK,EAAQ,EAAIjO,EAAgBiE,KAGvDwJ,EAAOlI,mBAAqB,WAC1B,IAAI2I,EAAkBpL,KAAKkC,WACvBhB,EAAmBkK,EAAgBlK,iBACnCO,EAAa2J,EAAgB3J,WAC7BD,EAAe4J,EAAgB5J,aAC/BE,EAAS0J,EAAgB1J,OAEzBI,EAAe9B,KAAK5D,MAAM0F,aAC1B7B,EAAKD,KAAKC,GACVuD,EAAexD,KAAKwD,aACpBmC,EAAuB3F,KAAK2F,qBAC5BoB,EAAgB/G,KAAK+G,cACrBmB,EAAelI,KAAKkI,aACpBjB,EAAgBjH,KAAKiH,cACrBwB,EAAezI,KAAKyI,aACpBa,EAAWtJ,KAAKsJ,SAChBC,EAAYvJ,KAAKuJ,UACjBjE,EAAatF,KAAKsF,WAClB1D,EAAa5B,KAAK4B,WAClBG,EAAoB/B,KAAK+B,kBACzBE,EAAwBjC,KAAKiC,sBAC7BhB,EAAsBjB,KAAKiB,oBAC3BM,EAAiBvB,KAAKuB,eACtB2H,EAAalJ,KAAKkJ,WAKtB,MAAO,CAEL1F,aAAcA,EACdmC,qBAAsBA,EACtBoB,cAAeA,EACfmB,aAAcA,EACdjB,cAAeA,EACfwB,aAAcA,EAEdrD,MAbUpF,KAAKoF,MAcfkE,SAAUA,EACVC,UAAWA,EACXjE,WAAYA,EACZ1D,WAAYA,EACZG,kBAAmBA,EACnBE,sBAAuBA,EACvBhB,oBAAqBA,EACrBM,eAAgBA,EAChB2H,WAAYA,EACZpI,aAtBiBd,KAAKc,aAuBtBE,eAtBmBhB,KAAKgB,eAuBxB0B,SAtBa1C,KAAKqB,iBAwBlBS,aAAcA,EAEd7B,GAAIA,EAEJiB,iBAAkBA,EAClBO,WAAYA,EACZC,OAAQA,EACRF,aAAcA,IAKlBmJ,EAAOU,kBAAoB,WACzB,IAAIC,EAAStL,KAUX,IAAIuL,EAAwB,SAAUvW,EAAQwW,QACjB,IAAvBA,IACFA,GAAqB,GAGvB,IAAI/V,EAAW6V,EAAOlP,MAAMsK,YAAYjR,SACxC,MAAO,CAAC6V,EAAO/H,UAAW+H,EAAOrD,WAAWhN,MAAK,SAAUwQ,GACzD,OAAOA,IAAgBjS,EAAiBiS,EAAazW,IAAWwW,GAAsBhS,EAAiBiS,EAAahW,EAASkR,oBAS7HmC,EAAc,WAChBwC,EAAOxE,aAAc,GAGnB4E,EAAY,SAAU5Q,GACxBwQ,EAAOxE,aAAc,GAGQyE,EAAsBzQ,EAAM9F,SAE1BsW,EAAOpJ,WAAWR,QAC/C4J,EAAOlG,MAAM,CACXlJ,KAn5BuE,IAo5BtE,WACD,OAAOoP,EAAOlP,MAAMuP,aAAaL,EAAO7I,0BAW1CmJ,EAAe,WACjBN,EAAOO,aAAc,GAGnBC,EAAc,WAChBR,EAAOO,aAAc,GAGnBE,EAAa,SAAUjR,GACzB,IAAIkR,EAAyBT,EAAsBzQ,EAAM9F,QAAQ,GAE5DsW,EAAOO,aAAgBG,IAA0BV,EAAOpJ,WAAWR,QACtE4J,EAAOlG,MAAM,CACXlJ,KA95ByE,KA+5BxE,WACD,OAAOoP,EAAOlP,MAAMuP,aAAaL,EAAO7I,0BAK1CiE,EAAc1G,KAAK5D,MAAMsK,YAC7BA,EAAYuF,iBAAiB,YAAanD,GAC1CpC,EAAYuF,iBAAiB,UAAWP,GACxChF,EAAYuF,iBAAiB,aAAcL,GAC3ClF,EAAYuF,iBAAiB,YAAaH,GAC1CpF,EAAYuF,iBAAiB,WAAYF,GAEzC/L,KAAKkM,QAAU,WACbZ,EAAOT,wBAEPS,EAAO9B,aAAaxP,SAEpB0M,EAAYyF,oBAAoB,YAAarD,GAC7CpC,EAAYyF,oBAAoB,UAAWT,GAC3ChF,EAAYyF,oBAAoB,aAAcP,GAC9ClF,EAAYyF,oBAAoB,YAAaL,GAC7CpF,EAAYyF,oBAAoB,WAAYJ,KAKlDpB,EAAOyB,aAAe,SAAsBC,EAAWC,GACrD,IACIC,QADyCpJ,IAAhCnD,KAAK5D,MAAM8E,iBAAiClB,KAAKkC,WAAalC,KAAK5D,OAC3C8E,iBAGjCsL,QADwCrJ,IAA/BmJ,EAAUpL,iBAAiCmL,EAAYC,GAClCpL,iBAGlC,OADqBqL,GAA2BvM,KAAKkC,WAAWR,SAAW2K,EAAU3K,QAC5D6K,IAA4BC,GAGvD7B,EAAO8B,mBAAqB,SAA4BH,EAAWD,GAU7DrM,KAAKgD,iBAAiB,iBAAmBhD,KAAK5D,MAAMsQ,oBAAoBJ,EAAU9K,aAAcxB,KAAK5D,MAAMoF,eAC7GxB,KAAKqB,iBAAiB,CACpBnF,KAl9BmI,GAm9BnIuF,WAAYzB,KAAK5D,MAAM0F,aAAa9B,KAAK5D,MAAMoF,iBAI9CxB,KAAKiJ,gBAAkBjJ,KAAKoM,aAAaC,EAAWC,IACvDtM,KAAKiL,gCAKPjL,KAAKwJ,gBAGPmB,EAAOgC,qBAAuB,WAC5B3M,KAAKkM,WAGPvB,EAAOiC,OAAS,WACd,IAAIC,EAAWjR,EAAYoE,KAAK5D,MAAMyQ,SAAUjY,GAIhDoL,KAAKkJ,aAKLlJ,KAAKwD,aAAaU,QAAS,EAC3BlE,KAAKwD,aAAaK,YAASV,EAC3BnD,KAAKwD,aAAaS,sBAAmBd,EAErCnD,KAAKkI,aAAahE,QAAS,EAC3BlE,KAAKkI,aAAarE,YAASV,EAC3BnD,KAAKkI,aAAajE,sBAAmBd,EAErCnD,KAAK+G,cAAc7C,QAAS,EAE5BlE,KAAKiH,cAAc/C,QAAS,EAC5B,IAAIjI,EAAUL,EAAYiR,EAAS7M,KAAKyC,uBAExC,OAAKxG,EAID+D,KAAKwD,aAAaU,QAAUlE,KAAK5D,MAAM6H,iBAKlChI,EACED,EAAaC,GAGf6Q,uBAAa7Q,EAAS+D,KAAKwD,aAAarH,EAAgBF,UAK7D8Q,EAjBK,MA4BJpN,EA9/BT,CA+/BEqN,aAgJF,SAASC,EAAuBlQ,EAAYC,EAAWkQ,EAAaC,GAClE,IAAmB,IAAfnQ,EACF,OAAOD,EAAa,EAAI,EAAImQ,EAAc,EAG5C,IAAIE,EAAYpQ,EAAYD,EAE5B,OAAIqQ,EAAY,EACPD,EAAWD,EAAc,EAAI,EAGlCE,GAAaF,EACRC,EAAW,EAAID,EAAc,EAG/BE,EAGT,SAASC,EAA2BC,EAAWpM,EAAkBV,EAAO+M,GACtE,IAAIC,EACAC,EAAcjN,EAAMkN,KAAI,SAAU7L,GACpC,OAAO0L,EAAkB1L,GAAM8L,iBAE7BC,EAAgB1M,EAAmB,EAKvC,OAJAsM,EAAsBC,EAAYI,MAAMD,GAAeE,WAAU,SAAUC,GACzE,OAAOA,EAAWC,WAAWV,QAGJ,EAClBE,EAAsBI,EAEtBH,EAAYI,MAAM,EAAGD,GAAeE,WAAU,SAAUC,GAC7D,OAAOA,EAAWC,WAAWV,MAKnC,SAASpL,EAAS3F,EAAOH,GACvB,OAAO2B,OAAOgF,KAAKxG,GAAOyO,QAAO,SAAUqB,EAAW1P,GAGpD,OADA0P,EAAU1P,GAAOA,KAAOP,EAAQA,EAAMO,GAAOJ,EAAMI,GAC5C0P,IACN,IAiCL,SAAS4B,EAAuBtR,GAC9B,MAAO,UAAUuR,KAAKvR,GAGxB,SAASwR,EAAiBC,GACxB,MAAO,GAAKA,EAAOP,MAAM,EAAG,GAAGQ,cAAgBD,EAAOP,MAAM,GAW9D,SAASS,EAAkBlS,EAAOG,EAAOgS,GACvCxQ,OAAOgF,KAAKxG,GAAOjD,SAAQ,SAAUkV,IATvC,SAA+BC,EAASrS,EAAOG,EAAOgS,GACpD,IAAIG,EAAU,KAAOP,EAAiBM,GAAW,SAE7CrS,EAAMsS,SAAiCvL,IAArBoL,EAAQE,IAA0BF,EAAQE,KAAalS,EAAMkS,IACjFrS,EAAMsS,GAASH,GAMfI,CAAsBH,EAAUpS,EAAOG,EAAOgS,MAG5CnS,EAAM6G,oBAA6BE,IAAZoL,GACzBnS,EAAM6G,cAAcsL,GA/OxB5O,EAAUiP,aAAe,CACvBxN,wBAAyB,KACzBO,eAAe,EACf+H,qBAzvCF,SAA8BmF,GAC5B,IAAInN,EAASmN,EAAMnN,OACfF,EAAeqN,EAAMrN,aACrBiI,EAAcoF,EAAMpF,YACpBhJ,EAAsBoO,EAAMpO,oBAC5BqB,EAAe+M,EAAM/M,aAEzB,OAAKJ,EAIA+H,EAIDA,IAAgBhJ,EACXgJ,EAAc,WAA6B,IAAhBA,EAAoB,MAAQ,SAAW,iFAGpE,GAPE,4BAJAjI,EAAeM,EAAaN,GAAgB,IAkvCrDM,aAAc,SAAsBjB,GAClC,OAAS,MAALA,EACK,GAQFX,OAAOW,IAEhBoC,cAAerO,EACf4N,mBAAoB5N,EACpByO,aAAczO,EACdwO,SAAUxO,EACVsO,SAAUtO,EACV+W,aAAc/W,EACd8X,oBAAqB,SAA6BoC,EAAUjN,GAC1D,OAAOiN,IAAajN,GAEtB6E,YAA+B,qBAAXzQ,OAElB,GAAKA,OACP2M,aAAc,SAAsBrG,EAAO4F,GACzC,OAAOA,GAET8B,kBAAkB,EAClBpP,eAAgBA,GAElB8K,EAAUpB,iBAAmBA,EAoO7B,IAAIwQ,EAAS,EAab,SAASC,IACP,IAAIC,EAAYC,mBAAS,MACrBjP,EAAKgP,EAAU,GACfE,EAAQF,EAAU,GAKtB,OAHAG,qBAAU,WACR,OAAOD,IAhBAJ,KAiBN,IACI9O,EAGT,IAAIoP,EAAqB,CACvBnO,kBAAmB,EACnBQ,QAAQ,EACRF,aAAc,MA8BhB,SAAS8N,EAA0BlT,EAAOG,EAAOgT,GAC/C,IAAI/O,EAAQpE,EAAMoE,MACdsJ,EAA0B1N,EAAM0N,wBAChC1I,EAA0BhF,EAAMgF,wBAChCI,EAAejF,EAAMiF,aACrBN,EAAmB3E,EAAM2E,iBAE7B,YAAgCiC,IAA5B2G,GAAyC5I,GAAoB,EACxD4I,OAGuB3G,IAA5B/B,EACKA,EAGLI,EACa,IAAX+N,EACK/O,EAAM3D,QAAQ2E,GAGhByL,EAAuBsC,EAAQ/O,EAAM3D,QAAQ2E,GAAehB,EAAM1I,QAAQ,GAGpE,IAAXyX,GACM,EAGHA,EAAS,EAAI/O,EAAM1I,OAAS,EAAI,EAGzC,SAAS0X,EAAgBpT,EAAOqS,GAC9B,IAAIgB,EAAiB,UAAYtB,EAAiBM,GAElD,OAAIgB,KAAkBrT,EACbA,EAAMqT,GAGRJ,EAAmBZ,GAG5B,SAASiB,EAAgBtT,EAAOqS,GAC9B,GAAIA,KAAWrS,EACb,OAAOA,EAAMqS,GAGf,IAAIkB,EAAiB,UAAYxB,EAAiBM,GAElD,OAAIkB,KAAkBvT,EACbA,EAAMuT,GAGRH,EAAgBpT,EAAOqS,GAehC,IAAImB,EAAY,CACdpP,MAAOqP,IAAUC,MAAMC,WACvBjO,aAAc+N,IAAUG,KACxBtG,qBAAsBmG,IAAUG,KAChCC,wBAAyBJ,IAAUG,KACnCE,mBAAoBL,IAAUM,KAC9BjP,iBAAkB2O,IAAUO,OAC5BhP,wBAAyByO,IAAUO,OACnCtG,wBAAyB+F,IAAUO,OACnC1O,OAAQmO,IAAUM,KAClBxO,cAAekO,IAAUM,KACzBlG,cAAe4F,IAAUM,KACzB3O,aAAcqO,IAAUQ,IACxB9F,oBAAqBsF,IAAUQ,IAC/BC,oBAAqBT,IAAUQ,IAC/BpQ,GAAI4P,IAAUzB,OACdhO,QAASyP,IAAUzB,OACnBjO,OAAQ0P,IAAUzB,OAClB9N,UAAWuP,IAAUG,KACrBO,eAAgBV,IAAUzB,OAC1BxL,aAAciN,IAAUG,KACxBQ,qBAAsBX,IAAUG,KAChCS,yBAA0BZ,IAAUG,KACpC/M,cAAe4M,IAAUG,KACzBU,eAAgBb,IAAUG,KAC1BtJ,YAAamJ,IAAUc,MAAM,CAC3B1E,iBAAkB4D,IAAUG,KAC5B7D,oBAAqB0D,IAAUG,KAC/Bva,SAAUoa,IAAUc,MAAM,CACxB/S,eAAgBiS,IAAUG,KAC1BrJ,cAAekJ,IAAUQ,IACzBta,KAAM8Z,IAAUQ,SA4BlBO,EAAkC7S,OAAOS,OAAO,CAClDC,UAAW,KACXoS,qBAzBiG,EA0BjGC,mBAzB6F,EA0B7FC,kBAzB0F,EA0B1FC,gBAzBsF,EA0BtFC,eAzBoF,EA0BpFC,iBAzBwF,EA0BxFC,qBAzBgG,EA0BhGC,SAzBuE,EA0BvEC,eAzBoF,EA0BpFC,cAzBkF,EA0BlFC,UAzByE,GA0BzEC,6BAzBgH,GA0BhHC,6BAzBiH,GA0BjHC,2BAzB6G,GA0B7GC,kBAzByF,GA0BzFC,mBAzB4F,GA0B5FC,iBAzBwF,GA0BxFC,kBAzB0F,GA0B1FC,4BAzB+G,GA0B/GC,mBAzB4F,GA0B5FC,uBAzBsG,GA0BtGC,cAzBiF,KA8BnF,SAASC,EAAuB5V,EAAO6V,GACrC,IAGI7D,EAHArS,EAAOkW,EAAOlW,KACdE,EAAQgW,EAAOhW,MACfqI,EAAW2N,EAAO3N,SAGtB,OAAQvI,GACN,KAjDgF,EAkD9EqS,EAAU,CACRrN,iBAAkBkR,EAAOva,OAE3B,MAEF,KAtDuE,GAuDrE0W,EAAU,CACR7M,OAAQ8N,EAAgBpT,EAAO,UAC/B8E,iBAAkBsO,EAAgBpT,EAAO,oBACzCoF,aAAcpF,EAAMoE,MAAM4R,EAAOva,QAEnC,MAEF,KAjEqE,EAkEnE0W,EAAU,CACR7M,QAAQ,EACRR,kBAAmB,GAErB,MAEF,KA/E+F,EAgF7FqN,EAAU,CACRrN,iBAAkB+L,EAAuBxI,EAAW,EAAI,EAAGlI,EAAM2E,iBAAkB9E,EAAMoE,MAAM1I,OAAQsE,EAAM8T,qBAE/G,MAEF,KApF2F,EAqFzF3B,EAAU,CACRrN,iBAAkB+L,EAAuBxI,GAAY,GAAK,EAAGlI,EAAM2E,iBAAkB9E,EAAMoE,MAAM1I,OAAQsE,EAAM8T,qBAEjH,MAEF,KAxFoF,EAyFlF3B,EAAU,CACRrN,iBAAkB,GAEpB,MAEF,KA7FkF,EA8FhFqN,EAAU,CACRrN,iBAAkB9E,EAAMoE,MAAM1I,OAAS,GAEzC,MAEF,KArGwF,EAsGtFyW,EAAU,CACR7M,QAAQ,EACRR,kBAAmB,GAErB,MAEF,KAzGsF,EA0GpFqN,EAAUjN,YAAS,CACjBI,OAAQ8N,EAAgBpT,EAAO,UAC/B8E,iBAAkBsO,EAAgBpT,EAAO,qBACxCG,EAAM2E,kBAAoB,GAAK,CAChCM,aAAcpF,EAAMoE,MAAMjE,EAAM2E,oBAElC,MAEF,KAjH8F,EAmH1F,IAAImR,EAAgBD,EAAOzV,IACvB2Q,EAAY,GAAK/Q,EAAM+Q,UAAY+E,EACnCnR,EAAmBmM,EAA2BC,EAAW/Q,EAAM2E,iBAAkB9E,EAAMoE,MAAOpE,EAAM0F,cACxGyM,EAAUjN,YAAS,CACjBgM,UAAWA,GACVpM,GAAoB,GAAK,CAC1BA,iBAAkBA,IAGtB,MAEF,KA5HkF,EA6HhFqN,EAAU,CACRrN,kBAAmB,GAErB,MAEF,KA/H8G,GAiI1G,IAAIoR,EAAiBF,EAAOzV,IAExB4V,EAAa,GAAKhW,EAAM+Q,UAAYgF,EAEpCtQ,EAAYqL,EAA2BkF,EAAYhW,EAAMiF,aAAepF,EAAMoE,MAAM3D,QAAQN,EAAMiF,eAAiB,EAAGpF,EAAMoE,MAAOpE,EAAM0F,cAC7IyM,EAAUjN,YAAS,CACjBgM,UAAWiF,GACVvQ,GAAa,GAAK,CACnBR,aAAcpF,EAAMoE,MAAMwB,KAG9B,MAEF,KA7I+G,GA+I3GuM,EAAU,CACR7M,QAAQ,EACRR,iBAAkBoO,EAA0BlT,EAAOG,EAAO,IAE5D,MAGJ,KArJ2G,GAsJzGgS,EAAU,CACR7M,QAAQ,EACRR,iBAAkBoO,EAA0BlT,EAAOG,GAAQ,IAE7D,MAEF,KA3JuF,GA4JvF,KA3J0F,GA4JxFgS,EAAU,CACR7M,QAASnF,EAAMmF,OACfR,iBAAkB3E,EAAMmF,QAAU,EAAI4N,EAA0BlT,EAAOG,EAAO,IAEhF,MAEF,KAjKsF,GAkKpFgS,EAAU,CACR7M,QAAQ,EACRR,iBAAkBoO,EAA0BlT,EAAOG,EAAO,IAE5D,MAEF,KAvKwF,GAwKtFgS,EAAU,CACR7M,QAAQ,GAEV,MAEF,KA5K6G,GA6K3G6M,EAAU,CACRrN,iBAAkBkR,EAAOlR,kBAE3B,MAEF,KAjL0F,GAkLxFqN,EAAU,CACR/M,aAAc4Q,EAAO5Q,cAEvB,MAEF,KAtLoG,GAuLlG+M,EAAU,CACRjB,UAAW,IAEb,MAEF,KA3L+E,GA4L7EiB,EAAU,CACRrN,iBAAkBsO,EAAgBpT,EAAO,oBACzCsF,OAAQ8N,EAAgBpT,EAAO,UAC/BoF,aAAcgO,EAAgBpT,EAAO,iBAEvC,MAEF,QACE,MAAM,IAAIoW,MAAM,8CAGpB,OAAOlR,YAAS,GAAI/E,EAAO,GAAIgS,GAIjC,IA1b+BkE,EAAQ7C,EA0bnC8C,GA1b2BD,EA0beE,EA1bP/C,EA0bkBA,EAxbhD,SAAU3a,QACC,IAAZA,IACFA,EAAU,IAGZ8I,OAAO6U,QAAQhD,GAAWtW,SAAQ,SAAUuV,GAC1C,IAAIlS,EAAMkS,EAAM,GAChBgB,IAAUgD,eAAejD,EAAW3a,EAAS0H,EAAK8V,EAAOK,WAkb3DlE,EAAe,CACjB9M,aAhcF,SAAsBD,GACpB,OAAOA,EAAO3B,OAAO2B,GAAQ,IAgc7Be,aAAc,SAAsBmQ,EAAGC,GACrC,OAAOA,EAAEzE,SAEX7E,qBAvWF,SAAgCnQ,GAC9B,IAAImI,EAASnI,EAAKmI,OACdlB,EAAQjH,EAAKiH,MAEjB,IAAKA,EACH,MAAO,GAGT,IAAIiJ,EAAcjJ,EAAM1I,OAExB,OAAI4J,EACkB,IAAhB+H,EACK,2BAGFA,EAAc,WAA6B,IAAhBA,EAAoB,MAAQ,SAAW,iFAGpE,IAsVPwG,wBAnVF,SAAiCpB,GAC/B,IAAIrN,EAAeqN,EAAMrN,aAEzB,OAAOM,EADY+M,EAAM/M,cACLN,GAAgB,uBAiVpC3M,eAAgBA,EAChB6R,YAA+B,qBAAXzQ,OAElB,GAAKA,QAIT,SAAS0c,EAAUM,QACC,IAAdA,IACFA,EAAY,IAGdP,EAAkBO,GAElB,IAAI7W,EAAQkF,YAAS,GAAIsN,EAAc,GAAIqE,GAEvCzS,EAAQpE,EAAMoE,MACdsB,EAAe1F,EAAM0F,aACrB4H,EAAuBtN,EAAMsN,qBAC7BuG,EAA0B7T,EAAM6T,wBAChChG,EAAgB7N,EAAM6N,cACtBtI,EAAgBvF,EAAMuF,cACtB9M,EAAiBuH,EAAMvH,eACvB6R,EAActK,EAAMsK,YAIpBwM,EArbN,SAA4BC,EAASC,EAAchX,GACjD,IAAIiX,EAAkBC,uBAAY,SAAU/W,EAAO6V,GACjD7V,EAAQ2F,EAAS3F,EAAO6V,EAAOhW,OAC/B,IAAIwG,EAAewP,EAAOhW,MAAMwG,aAC5B2L,EAAU4E,EAAQ5W,EAAO6V,GACzBmB,EAAW3Q,EAAarG,EAAO+E,YAAS,GAAI8Q,EAAQ,CACtD7D,QAASA,KAGX,OADAD,EAAkB8D,EAAOhW,MAAOG,EAAOgX,GAChCA,IACN,CAACJ,IAEAK,EAAcC,qBAAWJ,EAAiBD,GAC1C7W,EAAQiX,EAAY,GACpBE,EAAWF,EAAY,GAE3B,MAAO,CAACtR,EAAS3F,EAAOH,GAAQsX,GAqaNC,CAAmBxB,EAnT/C,SAAyB/V,GACvB,IAAIoF,EAAekO,EAAgBtT,EAAO,gBACtC8E,EAAmBwO,EAAgBtT,EAAO,oBAC1CsF,EAASgO,EAAgBtT,EAAO,UACpC,MAAO,CACL8E,iBAAkBA,EAAmB,GAAKM,EAAepF,EAAMoE,MAAM3D,QAAQ2E,GAAgBN,EAC7FQ,OAAQA,EACRF,aAAcA,EACd8L,UAAW,IAySMsG,CAAgBxX,GAEgDA,GAC/EyX,EAAuBX,EAAoB,GAC3CxR,EAASmS,EAAqBnS,OAC9BR,EAAmB2S,EAAqB3S,iBACxCM,EAAeqS,EAAqBrS,aACpC8L,EAAYuG,EAAqBvG,UACjCwG,EAAuBZ,EAAoB,GAE3CQ,EAAW,SAAUtB,GACvB,OAAO0B,EAAqBxS,YAAS,CACnClF,MAAOA,GACNgW,KAID2B,EA5jBN,SAAuBC,EAAmBvQ,GACxC,IAAIlK,OAAiB,IAAVkK,EAAmB,GAAKA,EAC/BxD,EAAK1G,EAAK0G,GACVG,EAAU7G,EAAK6G,QACfD,EAAS5G,EAAK4G,OACdG,EAAY/G,EAAK+G,UACjBiQ,EAAiBhX,EAAKgX,eAEtB0D,OAAkB9Q,IAAPlD,EAAmB,aAAe+T,IAAsB/T,EACvE,MAAO,CACLG,QAASA,GAAW6T,EAAW,SAC/B9T,OAAQA,GAAU8T,EAAW,QAC7B3T,UAAWA,GAAa,SAAUzI,GAChC,OAAOoc,EAAW,SAAWpc,GAE/B0Y,eAAgBA,GAAkB0D,EAAW,kBA6iB1BC,CAAclF,EAAO5S,GACtCgE,EAAU2T,EAAe3T,QACzBE,EAAYyT,EAAezT,UAC3BH,EAAS4T,EAAe5T,OACxBoQ,EAAiBwD,EAAexD,eAIhC4D,EAAkBC,iBAAO,MACzBpM,EAAUoM,iBAAO,MACjBC,EAAWD,mBACfC,EAAS1Y,QAAU,GACnB,IAAI2Y,EAAiBF,kBAAO,GACxBhI,EAAegI,kBAAO,GACtBna,EAAema,iBAAO,MAK1BhF,qBAAU,WACJkF,EAAe3Y,SAInB4B,EAAUmM,EAAqB,CAC7BhI,OAAQA,EACRlB,MAAOA,EACPgB,aAAcA,EACdM,aAAcA,IACZ4E,EAAYjR,YACf,CAACiM,IAGJ0N,qBAAU,WACJkF,EAAe3Y,SAInB4B,EAAU0S,EAAwB,CAChCvO,OAAQA,EACRlB,MAAOA,EACPgB,aAAcA,EACdM,aAAcA,IACZ4E,EAAYjR,YACf,CAAC+L,IAGJ4N,qBAAU,WAEJkF,EAAe3Y,UACjB1B,EAAa0B,QAAU/B,GAAS,WAC9B8Z,EAAS,CACPxX,KAlT8F,OAoT/F,MAGAoR,GAILrT,EAAa0B,YACZ,CAAC2R,IAGJ8B,qBAAU,WAEJkF,EAAe3Y,SAEbsO,GAAiBtI,GAAiBD,IACpCsG,EAAQrM,QAAQiL,QAQhBlF,EACFsG,EAAQrM,QAAQiL,QACPF,EAAYjR,SAASkR,gBAAkBqB,EAAQrM,SACxDwY,EAAgBxY,QAAQiL,UAGzB,CAAClF,IAGJ0N,qBAAU,WACJlO,EAAmB,IAAMQ,IAAW2S,EAAS1Y,QAAQ7D,UAI5B,IAAzBsU,EAAazQ,QACfyQ,EAAazQ,SAAU,EAEvB9G,EAAewf,EAAS1Y,QAAQuF,GAAmB8G,EAAQrM,YAG5D,CAACuF,IAGJkO,qBAAU,WACRkF,EAAe3Y,SAAU,IACxB,IAGH,IAAI4Y,EAAsB,CACxBlQ,UAAW,SAAmBvJ,GAC5BA,EAAMyJ,iBACNmP,EAAS,CACPxX,KAhY2F,EAiY3FuI,SAAU3J,EAAM2J,YAGpBG,QAAS,SAAiB9J,GACxBA,EAAMyJ,iBACNmP,EAAS,CACPxX,KAtYuF,EAuYvFuI,SAAU3J,EAAM2J,YAGpBe,KAAM,SAAc1K,GAClBA,EAAMyJ,iBACNmP,EAAS,CACPxX,KA3YgF,KA8YpFwJ,IAAK,SAAa5K,GAChBA,EAAMyJ,iBACNmP,EAAS,CACPxX,KAhZ8E,KAmZlFiJ,OAAQ,WACNuO,EAAS,CACPxX,KAvZoF,KA0ZxF4I,MAAO,SAAehK,GACpBA,EAAMyJ,iBACNmP,EAAS,CACPxX,KA1ZkF,KA6ZtFsY,IAAK,SAAa1Z,GAGZA,EAAM2J,UACRiP,EAAS,CACPxX,KAha+D,MAqanEuY,EAA8B,CAChCpQ,UAAW,SAAmBvJ,GAC5BA,EAAMyJ,iBACNmP,EAAS,CACPxX,KApa2G,MAua/G0I,QAAS,SAAiB9J,GACxBA,EAAMyJ,iBACNmP,EAAS,CACPxX,KAzauG,OA8azGwY,EAAoB,SAAU5Z,GAChC,IAAI6B,EAAMD,EAAkB5B,GAExB6B,GAAO4X,EAAoB5X,GAC7B4X,EAAoB5X,GAAK7B,GAChBmT,EAAuBtR,IAChC+W,EAAS,CACPxX,KA5b0F,EA6b1FS,IAAKA,KAQPgY,EAAiB,SAAU7Z,GACzBA,EAAM8Z,gBAAkBT,EAAgBxY,SAC1C+X,EAAS,CACPxX,KAvciE,KA4cnE2Y,EAAuB,WACzBnB,EAAS,CACPxX,KA7cgF,KAidhF4Y,EAA0B,WAC5BpB,EAAS,CACPxX,KA7cqF,MAidrF6Y,EAA4B,SAAUja,GACxC,IAAI6B,EAAMD,EAAkB5B,GAExB6B,GAAO8X,EAA4B9X,GACrC8X,EAA4B9X,GAAK7B,GACxBmT,EAAuBtR,IAChC+W,EAAS,CACPxX,KA3d0G,GA4d1GS,IAAKA,KAyBX,MAAO,CAELgJ,qBAAsB,SAA8BjC,GAClD,IAAI2E,EAEAwG,OAAmB,IAAXnL,EAAoB,GAAKA,EACjCoC,EAAU+I,EAAM/I,QAChBC,EAAY8I,EAAM9I,UAClBiP,EAAenG,EAAMhL,OACrBA,OAA0B,IAAjBmR,EAA0B,MAAQA,EAC3CtZ,EAAMmT,EAAMnT,IACZoI,EAAOC,YAA8B8K,EAAO,CAAC,UAAW,YAAa,SAAU,QAEnF,OAAOvN,cAAU+G,EAAY,IAAcxE,GAAUvI,EAAWI,GAAK,SAAUuZ,GAC7Ed,EAAgBxY,QAAUsZ,KACxB5M,EAAUpI,GAAKsQ,EAAgBlI,EAAU,iBAAmB,UAAWA,EAAU,iBAAmB3G,EAAQ2G,EAAU,mBAAqBjI,EAAU,IAAMmQ,EAAgBlI,EAAUvC,QAAUpL,EAAqBoL,EAASgP,GAA0BzM,EAAUtC,UAAYrL,EAAqBqL,EAAWgP,GAA4B1M,GAAYvE,IAE3ViD,cAAe,SAAuBmO,GACpC,OAAO5T,YAAS,CACdrB,GAAIG,EACJ4G,QAASuJ,GACR2E,IAELhN,aAAc,SAAsBzE,GAClC,IAAIE,EAEApK,OAAiB,IAAVkK,EAAmB,GAAKA,EAC/BsC,EAAYxM,EAAKwM,UACjBG,EAAS3M,EAAK2M,OACdiP,EAAe5b,EAAK4b,aACpBvR,EAAcrK,EAAKsK,OACnBA,OAAyB,IAAhBD,EAAyB,MAAQA,EAC1ClI,EAAMnC,EAAKmC,IACXoI,EAAOC,YAA8BxK,EAAM,CAAC,YAAa,SAAU,eAAgB,SAAU,QAEjG,OAAO+H,cAAUqC,EAAY,IAAcE,GAAUvI,EAAWI,GAAK,SAAU3G,GAC7EiT,EAAQrM,QAAU5G,KAChB4O,EAAU1D,GAAKE,EAAQwD,EAAUQ,KAAO,UAAWR,EAAU,mBAAqBvD,EAASuD,EAAUyR,UAAY,EAAGzR,GAAYzC,GAAoB,GAAK,CAC3J,wBAAyBZ,EAAUY,IAClC,CACD6E,UAAWrL,EAAqBqL,EAAW2O,GAC3CxO,OAAQxL,EAAqBwL,EAAQyO,GACrCQ,aAAcza,EAAqBya,EAAcN,IAChD/Q,IAEL2E,aAAc,SAAsB7C,GAClC,IAAIyP,EAEAxP,OAAmB,IAAXD,EAAoB,GAAKA,EACjC/D,EAAOgE,EAAMhE,KACbhK,EAAQgO,EAAMhO,MACdyd,EAAezP,EAAMhC,OACrBA,OAA0B,IAAjByR,EAA0B,MAAQA,EAC3C5Z,EAAMmK,EAAMnK,IACZmN,EAAchD,EAAMgD,YACpB/C,EAAUD,EAAMC,QAChBhC,EAAOC,YAA8B8B,EAAO,CAAC,OAAQ,QAAS,SAAU,MAAO,cAAe,YAE9F7D,EApyBV,SAAsBnK,EAAOgK,EAAMrB,GACjC,YAAc2C,IAAVtL,EACKA,EAGY,IAAjB2I,EAAM1I,QACA,EAGH0I,EAAM3D,QAAQgF,GA2xBD0T,CAAa1d,EAAOgK,EAAMrB,GAE1C,GAAIwB,EAAY,EACd,MAAM,IAAIwQ,MAAM,mDAGlB,OAAOlR,cAAU+T,EAAY,IAAcxR,GAAUvI,EAAWI,GAAK,SAAUsJ,GACzEA,GACFqP,EAAS1Y,QAAQ7F,KAAKkP,MAEtBqQ,EAAUlR,KAAO,SAAUkR,GAAYrT,IAAcd,GAAoB,CAC3E,iBAAiB,GAChB,CACDjB,GAAIK,EAAU0B,GACd6G,YAAanO,EAAqBmO,GAAa,WAC7C,OA7FkB,SAAUhR,GAC9BA,IAAUqJ,IAIdkL,EAAazQ,SAAU,EACvB+X,EAAS,CACPxX,KA1e8E,EA2e9ErE,MAAOA,KAqFI2d,CAAoBxT,MAE7B8D,QAASpL,EAAqBoL,GAAS,WACrC,OApFc,SAAUjO,GAC9B6b,EAAS,CACPxX,KAhfqE,GAifrErE,MAAOA,IAiFI4d,CAAgBzT,OAExB8B,IAGLwB,WAAY,WACVoO,EAAS,CACPxX,KApkBsF,MAukB1FoN,SAAU,WACRoK,EAAS,CACPxX,KAxkBkF,MA2kBtFqN,UAAW,WACTmK,EAAS,CACPxX,KA5kBoF,MA+kBxF+E,oBAAqB,SAA6BuM,GAChDkG,EAAS,CACPxX,KAhlByG,GAilBzGgF,iBAAkBsM,KAGtB5L,WAAY,SAAoB8T,GAC9BhC,EAAS,CACPxX,KArlBsF,GAslBtFsF,aAAckU,KAGlBtQ,MAAO,WACLsO,EAAS,CACPxX,KAzlB2E,MA6lB/EgF,iBAAkBA,EAClBQ,OAAQA,EACRF,aAAcA,GAvYlBmR,EAAUpU,iBAAmBqS,EA2YdjR","file":"static/js/3.921ebd96.chunk.js","sourcesContent":["export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","function isElement(el) {\n  return el != null && typeof el === 'object' && el.nodeType === 1;\n}\n\nfunction canOverflow(overflow, skipOverflowHiddenElements) {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false;\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip';\n}\n\nfunction getFrameElement(el) {\n  if (!el.ownerDocument || !el.ownerDocument.defaultView) {\n    return null;\n  }\n\n  return el.ownerDocument.defaultView.frameElement;\n}\n\nfunction isHiddenByFrame(el) {\n  var frame = getFrameElement(el);\n\n  if (!frame) {\n    return false;\n  }\n\n  return frame.clientHeight < el.scrollHeight || frame.clientWidth < el.scrollWidth;\n}\n\nfunction isScrollable(el, skipOverflowHiddenElements) {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    var style = getComputedStyle(el, null);\n    return canOverflow(style.overflowY, skipOverflowHiddenElements) || canOverflow(style.overflowX, skipOverflowHiddenElements) || isHiddenByFrame(el);\n  }\n\n  return false;\n}\n\nfunction alignNearest(scrollingEdgeStart, scrollingEdgeEnd, scrollingSize, scrollingBorderStart, scrollingBorderEnd, elementEdgeStart, elementEdgeEnd, elementSize) {\n  if (elementEdgeStart < scrollingEdgeStart && elementEdgeEnd > scrollingEdgeEnd || elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd) {\n    return 0;\n  }\n\n  if (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize || elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart;\n  }\n\n  if (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize || elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd;\n  }\n\n  return 0;\n}\n\nexport default (function (target, options) {\n  var scrollMode = options.scrollMode,\n      block = options.block,\n      inline = options.inline,\n      boundary = options.boundary,\n      skipOverflowHiddenElements = options.skipOverflowHiddenElements;\n  var checkBoundary = typeof boundary === 'function' ? boundary : function (node) {\n    return node !== boundary;\n  };\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target');\n  }\n\n  var scrollingElement = document.scrollingElement || document.documentElement;\n  var frames = [];\n  var cursor = target;\n\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    cursor = cursor.parentNode;\n\n    if (cursor === scrollingElement) {\n      frames.push(cursor);\n      break;\n    }\n\n    if (cursor === document.body && isScrollable(cursor) && !isScrollable(document.documentElement)) {\n      continue;\n    }\n\n    if (isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor);\n    }\n  }\n\n  var viewportWidth = window.visualViewport ? visualViewport.width : innerWidth;\n  var viewportHeight = window.visualViewport ? visualViewport.height : innerHeight;\n  var viewportX = window.scrollX || pageXOffset;\n  var viewportY = window.scrollY || pageYOffset;\n\n  var _target$getBoundingCl = target.getBoundingClientRect(),\n      targetHeight = _target$getBoundingCl.height,\n      targetWidth = _target$getBoundingCl.width,\n      targetTop = _target$getBoundingCl.top,\n      targetRight = _target$getBoundingCl.right,\n      targetBottom = _target$getBoundingCl.bottom,\n      targetLeft = _target$getBoundingCl.left;\n\n  var targetBlock = block === 'start' || block === 'nearest' ? targetTop : block === 'end' ? targetBottom : targetTop + targetHeight / 2;\n  var targetInline = inline === 'center' ? targetLeft + targetWidth / 2 : inline === 'end' ? targetRight : targetLeft;\n  var computations = [];\n\n  for (var index = 0; index < frames.length; index++) {\n    var frame = frames[index];\n\n    var _frame$getBoundingCli = frame.getBoundingClientRect(),\n        height = _frame$getBoundingCli.height,\n        width = _frame$getBoundingCli.width,\n        top = _frame$getBoundingCli.top,\n        right = _frame$getBoundingCli.right,\n        bottom = _frame$getBoundingCli.bottom,\n        left = _frame$getBoundingCli.left;\n\n    if (scrollMode === 'if-needed' && targetTop >= 0 && targetLeft >= 0 && targetBottom <= viewportHeight && targetRight <= viewportWidth && targetTop >= top && targetBottom <= bottom && targetLeft >= left && targetRight <= right) {\n      return computations;\n    }\n\n    var frameStyle = getComputedStyle(frame);\n    var borderLeft = parseInt(frameStyle.borderLeftWidth, 10);\n    var borderTop = parseInt(frameStyle.borderTopWidth, 10);\n    var borderRight = parseInt(frameStyle.borderRightWidth, 10);\n    var borderBottom = parseInt(frameStyle.borderBottomWidth, 10);\n    var blockScroll = 0;\n    var inlineScroll = 0;\n    var scrollbarWidth = 'offsetWidth' in frame ? frame.offsetWidth - frame.clientWidth - borderLeft - borderRight : 0;\n    var scrollbarHeight = 'offsetHeight' in frame ? frame.offsetHeight - frame.clientHeight - borderTop - borderBottom : 0;\n\n    if (scrollingElement === frame) {\n      if (block === 'start') {\n        blockScroll = targetBlock;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(viewportY, viewportY + viewportHeight, viewportHeight, borderTop, borderBottom, viewportY + targetBlock, viewportY + targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - viewportHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth;\n      } else {\n        inlineScroll = alignNearest(viewportX, viewportX + viewportWidth, viewportWidth, borderLeft, borderRight, viewportX + targetInline, viewportX + targetInline + targetWidth, targetWidth);\n      }\n\n      blockScroll = Math.max(0, blockScroll + viewportY);\n      inlineScroll = Math.max(0, inlineScroll + viewportX);\n    } else {\n      if (block === 'start') {\n        blockScroll = targetBlock - top - borderTop;\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight;\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(top, bottom, height, borderTop, borderBottom + scrollbarHeight, targetBlock, targetBlock + targetHeight, targetHeight);\n      } else {\n        blockScroll = targetBlock - (top + height / 2) + scrollbarHeight / 2;\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - left - borderLeft;\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (left + width / 2) + scrollbarWidth / 2;\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth;\n      } else {\n        inlineScroll = alignNearest(left, right, width, borderLeft, borderRight + scrollbarWidth, targetInline, targetInline + targetWidth, targetWidth);\n      }\n\n      var scrollLeft = frame.scrollLeft,\n          scrollTop = frame.scrollTop;\n      blockScroll = Math.max(0, Math.min(scrollTop + blockScroll, frame.scrollHeight - height + scrollbarHeight));\n      inlineScroll = Math.max(0, Math.min(scrollLeft + inlineScroll, frame.scrollWidth - width + scrollbarWidth));\n      targetBlock += scrollTop - blockScroll;\n      targetInline += scrollLeft - inlineScroll;\n    }\n\n    computations.push({\n      el: frame,\n      top: blockScroll,\n      left: inlineScroll\n    });\n  }\n\n  return computations;\n});","import _objectWithoutPropertiesLoose from '@babel/runtime/helpers/esm/objectWithoutPropertiesLoose';\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport _assertThisInitialized from '@babel/runtime/helpers/esm/assertThisInitialized';\nimport _inheritsLoose from '@babel/runtime/helpers/esm/inheritsLoose';\nimport PropTypes from 'prop-types';\nimport { cloneElement, Component, useCallback, useReducer, useState, useEffect, useRef } from 'react';\nimport { isForwardRef } from 'react-is';\nimport computeScrollIntoView from 'compute-scroll-into-view';\n\nvar idCounter = 0;\n/**\n * Accepts a parameter and returns it if it's a function\n * or a noop function if it's not. This allows us to\n * accept a callback, but not worry about it if it's not\n * passed.\n * @param {Function} cb the callback\n * @return {Function} a function\n */\n\nfunction cbToCb(cb) {\n  return typeof cb === 'function' ? cb : noop;\n}\n\nfunction noop() {}\n/**\n * Scroll node into view if necessary\n * @param {HTMLElement} node the element that should scroll into view\n * @param {HTMLElement} menuNode the menu element of the component\n */\n\n\nfunction scrollIntoView(node, menuNode) {\n  if (node === null) {\n    return;\n  }\n\n  var actions = computeScrollIntoView(node, {\n    boundary: menuNode,\n    block: 'nearest',\n    scrollMode: 'if-needed'\n  });\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n        top = _ref.top,\n        left = _ref.left;\n    el.scrollTop = top;\n    el.scrollLeft = left;\n  });\n}\n/**\n * @param {HTMLElement} parent the parent node\n * @param {HTMLElement} child the child node\n * @return {Boolean} whether the parent is the child or the child is in the parent\n */\n\n\nfunction isOrContainsNode(parent, child) {\n  return parent === child || parent.contains && parent.contains(child);\n}\n/**\n * Simple debounce implementation. Will call the given\n * function once after the time given has passed since\n * it was last called.\n * @param {Function} fn the function to call after the time\n * @param {Number} time the time to wait\n * @return {Function} the debounced function\n */\n\n\nfunction debounce(fn, time) {\n  var timeoutId;\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n  }\n\n  function wrapper() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    cancel();\n    timeoutId = setTimeout(function () {\n      timeoutId = null;\n      fn.apply(void 0, args);\n    }, time);\n  }\n\n  wrapper.cancel = cancel;\n  return wrapper;\n}\n/**\n * This is intended to be used to compose event handlers.\n * They are executed in order until one of them sets\n * `event.preventDownshiftDefault = true`.\n * @param {...Function} fns the event handler functions\n * @return {Function} the event handler to add to an element\n */\n\n\nfunction callAllEventHandlers() {\n  for (var _len2 = arguments.length, fns = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    fns[_key2] = arguments[_key2];\n  }\n\n  return function (event) {\n    for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n      args[_key3 - 1] = arguments[_key3];\n    }\n\n    return fns.some(function (fn) {\n      if (fn) {\n        fn.apply(void 0, [event].concat(args));\n      }\n\n      return event.preventDownshiftDefault || event.hasOwnProperty('nativeEvent') && event.nativeEvent.preventDownshiftDefault;\n    });\n  };\n}\n\nfunction handleRefs() {\n  for (var _len4 = arguments.length, refs = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n    refs[_key4] = arguments[_key4];\n  }\n\n  return function (node) {\n    refs.forEach(function (ref) {\n      if (typeof ref === 'function') {\n        ref(node);\n      } else if (ref) {\n        ref.current = node;\n      }\n    });\n  };\n}\n/**\n * This generates a unique ID for an instance of Downshift\n * @return {String} the unique ID\n */\n\n\nfunction generateId() {\n  return String(idCounter++);\n}\n/**\n * Resets idCounter to 0. Used for SSR.\n */\n\n\nfunction resetIdCounter() {\n  idCounter = 0;\n}\n/**\n * @param {Object} param the downshift state and other relevant properties\n * @return {String} the a11y status message\n */\n\n\nfunction getA11yStatusMessage(_ref2) {\n  var isOpen = _ref2.isOpen,\n      selectedItem = _ref2.selectedItem,\n      resultCount = _ref2.resultCount,\n      previousResultCount = _ref2.previousResultCount,\n      itemToString = _ref2.itemToString;\n\n  if (!isOpen) {\n    return selectedItem ? itemToString(selectedItem) : '';\n  }\n\n  if (!resultCount) {\n    return 'No results are available.';\n  }\n\n  if (resultCount !== previousResultCount) {\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n/**\n * Takes an argument and if it's an array, returns the first item in the array\n * otherwise returns the argument\n * @param {*} arg the maybe-array\n * @param {*} defaultValue the value if arg is falsey not defined\n * @return {*} the arg or it's first item\n */\n\n\nfunction unwrapArray(arg, defaultValue) {\n  arg = Array.isArray(arg) ?\n  /* istanbul ignore next (preact) */\n  arg[0] : arg;\n\n  if (!arg && defaultValue) {\n    return defaultValue;\n  } else {\n    return arg;\n  }\n}\n/**\n * @param {Object} element (P)react element\n * @return {Boolean} whether it's a DOM element\n */\n\n\nfunction isDOMElement(element) {\n  // then we assume this is react\n  return typeof element.type === 'string';\n}\n/**\n * @param {Object} element (P)react element\n * @return {Object} the props\n */\n\n\nfunction getElementProps(element) {\n  return element.props;\n}\n/**\n * Throws a helpful error message for required properties. Useful\n * to be used as a default in destructuring or object params.\n * @param {String} fnName the function name\n * @param {String} propName the prop name\n */\n\n\nfunction requiredProp(fnName, propName) {\n  // eslint-disable-next-line no-console\n  console.error(\"The property \\\"\" + propName + \"\\\" is required in \\\"\" + fnName + \"\\\"\");\n}\n\nvar stateKeys = ['highlightedIndex', 'inputValue', 'isOpen', 'selectedItem', 'type'];\n/**\n * @param {Object} state the state object\n * @return {Object} state that is relevant to downshift\n */\n\nfunction pickState(state) {\n  if (state === void 0) {\n    state = {};\n  }\n\n  var result = {};\n  stateKeys.forEach(function (k) {\n    if (state.hasOwnProperty(k)) {\n      result[k] = state[k];\n    }\n  });\n  return result;\n}\n/**\n * Normalizes the 'key' property of a KeyboardEvent in IE/Edge\n * @param {Object} event a keyboardEvent object\n * @return {String} keyboard key\n */\n\n\nfunction normalizeArrowKey(event) {\n  var key = event.key,\n      keyCode = event.keyCode;\n  /* istanbul ignore next (ie) */\n\n  if (keyCode >= 37 && keyCode <= 40 && key.indexOf('Arrow') !== 0) {\n    return \"Arrow\" + key;\n  }\n\n  return key;\n}\n/**\n * Simple check if the value passed is object literal\n * @param {*} obj any things\n * @return {Boolean} whether it's object literal\n */\n\n\nfunction isPlainObject(obj) {\n  return Object.prototype.toString.call(obj) === '[object Object]';\n}\n/**\n * Returns the new index in the list, in a circular way. If next value is out of bonds from the total,\n * it will wrap to either 0 or itemCount - 1.\n *\n * @param {number} moveAmount Number of positions to move. Negative to move backwards, positive forwards.\n * @param {number} baseIndex The initial position to move from.\n * @param {number} itemCount The total number of items.\n * @returns {number} The new index after the move.\n */\n\n\nfunction getNextWrappingIndex(moveAmount, baseIndex, itemCount) {\n  var itemsLastIndex = itemCount - 1;\n\n  if (typeof baseIndex !== 'number' || baseIndex < 0 || baseIndex >= itemCount) {\n    baseIndex = moveAmount > 0 ? -1 : itemsLastIndex + 1;\n  }\n\n  var newIndex = baseIndex + moveAmount;\n\n  if (newIndex < 0) {\n    newIndex = itemsLastIndex;\n  } else if (newIndex > itemsLastIndex) {\n    newIndex = 0;\n  }\n\n  return newIndex;\n}\n\nvar cleanupStatus = debounce(function () {\n  getStatusDiv().textContent = '';\n}, 500);\n/**\n * @param {String} status the status message\n * @param {Object} documentProp document passed by the user.\n */\n\nfunction setStatus(status, documentProp) {\n  var div = getStatusDiv(documentProp);\n\n  if (!status) {\n    return;\n  }\n\n  div.textContent = status;\n  cleanupStatus();\n}\n/**\n * Get the status node or create it if it does not already exist.\n * @param {Object} documentProp document passed by the user.\n * @return {HTMLElement} the status node.\n */\n\n\nfunction getStatusDiv(documentProp) {\n  if (documentProp === void 0) {\n    documentProp = document;\n  }\n\n  var statusDiv = documentProp.getElementById('a11y-status-message');\n\n  if (statusDiv) {\n    return statusDiv;\n  }\n\n  statusDiv = documentProp.createElement('div');\n  statusDiv.setAttribute('id', 'a11y-status-message');\n  statusDiv.setAttribute('role', 'status');\n  statusDiv.setAttribute('aria-live', 'polite');\n  statusDiv.setAttribute('aria-relevant', 'additions text');\n  Object.assign(statusDiv.style, {\n    border: '0',\n    clip: 'rect(0 0 0 0)',\n    height: '1px',\n    margin: '-1px',\n    overflow: 'hidden',\n    padding: '0',\n    position: 'absolute',\n    width: '1px'\n  });\n  documentProp.body.appendChild(statusDiv);\n  return statusDiv;\n}\n\nvar unknown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_unknown__' : 0;\nvar mouseUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_mouseup__' : 1;\nvar itemMouseEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_item_mouseenter__' : 2;\nvar keyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_up__' : 3;\nvar keyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_arrow_down__' : 4;\nvar keyDownEscape = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_escape__' : 5;\nvar keyDownEnter = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_enter__' : 6;\nvar keyDownHome = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_home__' : 7;\nvar keyDownEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_end__' : 8;\nvar clickItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_item__' : 9;\nvar blurInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_input__' : 10;\nvar changeInput = process.env.NODE_ENV !== \"production\" ? '__autocomplete_change_input__' : 11;\nvar keyDownSpaceButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_keydown_space_button__' : 12;\nvar clickButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_click_button__' : 13;\nvar blurButton = process.env.NODE_ENV !== \"production\" ? '__autocomplete_blur_button__' : 14;\nvar controlledPropUpdatedSelectedItem = process.env.NODE_ENV !== \"production\" ? '__autocomplete_controlled_prop_updated_selected_item__' : 15;\nvar touchEnd = process.env.NODE_ENV !== \"production\" ? '__autocomplete_touchend__' : 16;\n\nvar stateChangeTypes = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  unknown: unknown,\n  mouseUp: mouseUp,\n  itemMouseEnter: itemMouseEnter,\n  keyDownArrowUp: keyDownArrowUp,\n  keyDownArrowDown: keyDownArrowDown,\n  keyDownEscape: keyDownEscape,\n  keyDownEnter: keyDownEnter,\n  keyDownHome: keyDownHome,\n  keyDownEnd: keyDownEnd,\n  clickItem: clickItem,\n  blurInput: blurInput,\n  changeInput: changeInput,\n  keyDownSpaceButton: keyDownSpaceButton,\n  clickButton: clickButton,\n  blurButton: blurButton,\n  controlledPropUpdatedSelectedItem: controlledPropUpdatedSelectedItem,\n  touchEnd: touchEnd\n});\n\nvar Downshift =\n/*#__PURE__*/\nfunction (_Component) {\n  _inheritsLoose(Downshift, _Component);\n\n  function Downshift(_props) {\n    var _this = _Component.call(this, _props) || this;\n\n    _this.id = _this.props.id || \"downshift-\" + generateId();\n    _this.menuId = _this.props.menuId || _this.id + \"-menu\";\n    _this.labelId = _this.props.labelId || _this.id + \"-label\";\n    _this.inputId = _this.props.inputId || _this.id + \"-input\";\n\n    _this.getItemId = _this.props.getItemId || function (index) {\n      return _this.id + \"-item-\" + index;\n    };\n\n    _this.input = null;\n    _this.items = [];\n    _this.itemCount = null;\n    _this.previousResultCount = 0;\n    _this.timeoutIds = [];\n\n    _this.internalSetTimeout = function (fn, time) {\n      var id = setTimeout(function () {\n        _this.timeoutIds = _this.timeoutIds.filter(function (i) {\n          return i !== id;\n        });\n        fn();\n      }, time);\n\n      _this.timeoutIds.push(id);\n    };\n\n    _this.setItemCount = function (count) {\n      _this.itemCount = count;\n    };\n\n    _this.unsetItemCount = function () {\n      _this.itemCount = null;\n    };\n\n    _this.setHighlightedIndex = function (highlightedIndex, otherStateToSet) {\n      if (highlightedIndex === void 0) {\n        highlightedIndex = _this.props.defaultHighlightedIndex;\n      }\n\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        highlightedIndex: highlightedIndex\n      }, otherStateToSet));\n    };\n\n    _this.clearSelection = function (cb) {\n      _this.internalSetState({\n        selectedItem: null,\n        inputValue: '',\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        isOpen: _this.props.defaultIsOpen\n      }, cb);\n    };\n\n    _this.selectItem = function (item, otherStateToSet, cb) {\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(_extends({\n        isOpen: _this.props.defaultIsOpen,\n        highlightedIndex: _this.props.defaultHighlightedIndex,\n        selectedItem: item,\n        inputValue: _this.props.itemToString(item)\n      }, otherStateToSet), cb);\n    };\n\n    _this.selectItemAtIndex = function (itemIndex, otherStateToSet, cb) {\n      var item = _this.items[itemIndex];\n\n      if (item == null) {\n        return;\n      }\n\n      _this.selectItem(item, otherStateToSet, cb);\n    };\n\n    _this.selectHighlightedItem = function (otherStateToSet, cb) {\n      return _this.selectItemAtIndex(_this.getState().highlightedIndex, otherStateToSet, cb);\n    };\n\n    _this.internalSetState = function (stateToSet, cb) {\n      var isItemSelected, onChangeArg;\n      var onStateChangeArg = {};\n      var isStateToSetFunction = typeof stateToSet === 'function'; // we want to call `onInputValueChange` before the `setState` call\n      // so someone controlling the `inputValue` state gets notified of\n      // the input change as soon as possible. This avoids issues with\n      // preserving the cursor position.\n      // See https://github.com/downshift-js/downshift/issues/217 for more info.\n\n      if (!isStateToSetFunction && stateToSet.hasOwnProperty('inputValue')) {\n        _this.props.onInputValueChange(stateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, stateToSet));\n      }\n\n      return _this.setState(function (state) {\n        state = _this.getState(state);\n        var newStateToSet = isStateToSetFunction ? stateToSet(state) : stateToSet; // Your own function that could modify the state that will be set.\n\n        newStateToSet = _this.props.stateReducer(state, newStateToSet); // checks if an item is selected, regardless of if it's different from\n        // what was selected before\n        // used to determine if onSelect and onChange callbacks should be called\n\n        isItemSelected = newStateToSet.hasOwnProperty('selectedItem'); // this keeps track of the object we want to call with setState\n\n        var nextState = {}; // this is just used to tell whether the state changed\n\n        var nextFullState = {}; // we need to call on change if the outside world is controlling any of our state\n        // and we're trying to update that state. OR if the selection has changed and we're\n        // trying to update the selection\n\n        if (isItemSelected && newStateToSet.selectedItem !== state.selectedItem) {\n          onChangeArg = newStateToSet.selectedItem;\n        }\n\n        newStateToSet.type = newStateToSet.type || unknown;\n        Object.keys(newStateToSet).forEach(function (key) {\n          // onStateChangeArg should only have the state that is\n          // actually changing\n          if (state[key] !== newStateToSet[key]) {\n            onStateChangeArg[key] = newStateToSet[key];\n          } // the type is useful for the onStateChangeArg\n          // but we don't actually want to set it in internal state.\n          // this is an undocumented feature for now... Not all internalSetState\n          // calls support it and I'm not certain we want them to yet.\n          // But it enables users controlling the isOpen state to know when\n          // the isOpen state changes due to mouseup events which is quite handy.\n\n\n          if (key === 'type') {\n            return;\n          }\n\n          nextFullState[key] = newStateToSet[key]; // if it's coming from props, then we don't care to set it internally\n\n          if (!_this.isControlledProp(key)) {\n            nextState[key] = newStateToSet[key];\n          }\n        }); // if stateToSet is a function, then we weren't able to call onInputValueChange\n        // earlier, so we'll call it now that we know what the inputValue state will be.\n\n        if (isStateToSetFunction && newStateToSet.hasOwnProperty('inputValue')) {\n          _this.props.onInputValueChange(newStateToSet.inputValue, _extends({}, _this.getStateAndHelpers(), {}, newStateToSet));\n        }\n\n        return nextState;\n      }, function () {\n        // call the provided callback if it's a function\n        cbToCb(cb)(); // only call the onStateChange and onChange callbacks if\n        // we have relevant information to pass them.\n\n        var hasMoreStateThanType = Object.keys(onStateChangeArg).length > 1;\n\n        if (hasMoreStateThanType) {\n          _this.props.onStateChange(onStateChangeArg, _this.getStateAndHelpers());\n        }\n\n        if (isItemSelected) {\n          _this.props.onSelect(stateToSet.selectedItem, _this.getStateAndHelpers());\n        }\n\n        if (onChangeArg !== undefined) {\n          _this.props.onChange(onChangeArg, _this.getStateAndHelpers());\n        } // this is currently undocumented and therefore subject to change\n        // We'll try to not break it, but just be warned.\n\n\n        _this.props.onUserAction(onStateChangeArg, _this.getStateAndHelpers());\n      });\n    };\n\n    _this.rootRef = function (node) {\n      return _this._rootNode = node;\n    };\n\n    _this.getRootProps = function (_temp, _temp2) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"refKey\", \"ref\"]);\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          _ref2$suppressRefErro = _ref2.suppressRefError,\n          suppressRefError = _ref2$suppressRefErro === void 0 ? false : _ref2$suppressRefErro;\n\n      // this is used in the render to know whether the user has called getRootProps.\n      // It uses that to know whether to apply the props automatically\n      _this.getRootProps.called = true;\n      _this.getRootProps.refKey = refKey;\n      _this.getRootProps.suppressRefError = suppressRefError;\n\n      var _this$getState = _this.getState(),\n          isOpen = _this$getState.isOpen;\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, _this.rootRef), _extends2.role = 'combobox', _extends2['aria-expanded'] = isOpen, _extends2['aria-haspopup'] = 'listbox', _extends2['aria-owns'] = isOpen ? _this.menuId : null, _extends2['aria-labelledby'] = _this.labelId, _extends2), rest);\n    };\n\n    _this.keyDownHandlers = {\n      ArrowDown: function ArrowDown(event) {\n        var _this2 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? 5 : 1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowDown\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowDown\n          }, function () {\n            var itemCount = _this2.getItemCount();\n\n            if (itemCount > 0) {\n              _this2.setHighlightedIndex(getNextWrappingIndex(1, _this2.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      ArrowUp: function ArrowUp(event) {\n        var _this3 = this;\n\n        event.preventDefault();\n\n        if (this.getState().isOpen) {\n          var amount = event.shiftKey ? -5 : -1;\n          this.moveHighlightedIndex(amount, {\n            type: keyDownArrowUp\n          });\n        } else {\n          this.internalSetState({\n            isOpen: true,\n            type: keyDownArrowUp\n          }, function () {\n            var itemCount = _this3.getItemCount();\n\n            if (itemCount > 0) {\n              _this3.setHighlightedIndex(getNextWrappingIndex(-1, _this3.getState().highlightedIndex, itemCount), {\n                type: keyDownArrowDown\n              });\n            }\n          });\n        }\n      },\n      Enter: function Enter(event) {\n        var _this$getState2 = this.getState(),\n            isOpen = _this$getState2.isOpen,\n            highlightedIndex = _this$getState2.highlightedIndex;\n\n        if (isOpen && highlightedIndex != null) {\n          event.preventDefault();\n          var item = this.items[highlightedIndex];\n          var itemNode = this.getItemNodeFromIndex(highlightedIndex);\n\n          if (item == null || itemNode && itemNode.hasAttribute('disabled')) {\n            return;\n          }\n\n          this.selectHighlightedItem({\n            type: keyDownEnter\n          });\n        }\n      },\n      Escape: function Escape(event) {\n        event.preventDefault();\n        this.reset({\n          type: keyDownEscape,\n          selectedItem: null,\n          inputValue: ''\n        });\n      }\n    };\n    _this.buttonKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      ' ': function _(event) {\n        event.preventDefault();\n        this.toggleMenu({\n          type: keyDownSpaceButton\n        });\n      }\n    });\n    _this.inputKeyDownHandlers = _extends({}, _this.keyDownHandlers, {\n      Home: function Home(event) {\n        this.highlightFirstOrLastIndex(event, true, {\n          type: keyDownHome\n        });\n      },\n      End: function End(event) {\n        this.highlightFirstOrLastIndex(event, false, {\n          type: keyDownEnd\n        });\n      }\n    });\n\n    _this.getToggleButtonProps = function (_temp3) {\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          onClick = _ref3.onClick,\n          onPress = _ref3.onPress,\n          onKeyDown = _ref3.onKeyDown,\n          onKeyUp = _ref3.onKeyUp,\n          onBlur = _ref3.onBlur,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"onPress\", \"onKeyDown\", \"onKeyUp\", \"onBlur\"]);\n\n      var _this$getState3 = _this.getState(),\n          isOpen = _this$getState3.isOpen;\n\n      var enabledEventHandlers = {\n        onClick: callAllEventHandlers(onClick, _this.buttonHandleClick),\n        onKeyDown: callAllEventHandlers(onKeyDown, _this.buttonHandleKeyDown),\n        onKeyUp: callAllEventHandlers(onKeyUp, _this.buttonHandleKeyUp),\n        onBlur: callAllEventHandlers(onBlur, _this.buttonHandleBlur)\n      };\n      var eventHandlers = rest.disabled ? {} : enabledEventHandlers;\n      return _extends({\n        type: 'button',\n        role: 'button',\n        'aria-label': isOpen ? 'close menu' : 'open menu',\n        'aria-haspopup': true,\n        'data-toggle': true\n      }, eventHandlers, {}, rest);\n    };\n\n    _this.buttonHandleKeyUp = function (event) {\n      // Prevent click event from emitting in Firefox\n      event.preventDefault();\n    };\n\n    _this.buttonHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (_this.buttonKeyDownHandlers[key]) {\n        _this.buttonKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.buttonHandleClick = function (event) {\n      event.preventDefault(); // handle odd case for Safari and Firefox which\n      // don't give the button the focus properly.\n\n      /* istanbul ignore if (can't reasonably test this) */\n\n      if ( _this.props.environment.document.activeElement === _this.props.environment.document.body) {\n        event.target.focus();\n      } // to simplify testing components that use downshift, we'll not wrap this in a setTimeout\n      // if the NODE_ENV is test. With the proper build system, this should be dead code eliminated\n      // when building for production and should therefore have no impact on production code.\n\n\n      if (process.env.NODE_ENV === 'test') {\n        _this.toggleMenu({\n          type: clickButton\n        });\n      } else {\n        // Ensure that toggle of menu occurs after the potential blur event in iOS\n        _this.internalSetTimeout(function () {\n          return _this.toggleMenu({\n            type: clickButton\n          });\n        });\n      }\n    };\n\n    _this.buttonHandleBlur = function (event) {\n      var blurTarget = event.target; // Save blur target for comparison with activeElement later\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not body element\n\n      _this.internalSetTimeout(function () {\n        if (!_this.isMouseDown && (_this.props.environment.document.activeElement == null || _this.props.environment.document.activeElement.id !== _this.inputId) && _this.props.environment.document.activeElement !== blurTarget // Do nothing if we refocus the same element again (to solve issue in Safari on iOS)\n        ) {\n            _this.reset({\n              type: blurButton\n            });\n          }\n      });\n    };\n\n    _this.getLabelProps = function (props) {\n      return _extends({\n        htmlFor: _this.inputId,\n        id: _this.labelId\n      }, props);\n    };\n\n    _this.getInputProps = function (_temp4) {\n      var _ref4 = _temp4 === void 0 ? {} : _temp4,\n          onKeyDown = _ref4.onKeyDown,\n          onBlur = _ref4.onBlur,\n          onChange = _ref4.onChange,\n          onInput = _ref4.onInput,\n          onChangeText = _ref4.onChangeText,\n          rest = _objectWithoutPropertiesLoose(_ref4, [\"onKeyDown\", \"onBlur\", \"onChange\", \"onInput\", \"onChangeText\"]);\n\n      var onChangeKey;\n      var eventHandlers = {};\n      /* istanbul ignore next (preact) */\n\n      onChangeKey = 'onChange';\n\n      var _this$getState4 = _this.getState(),\n          inputValue = _this$getState4.inputValue,\n          isOpen = _this$getState4.isOpen,\n          highlightedIndex = _this$getState4.highlightedIndex;\n\n      if (!rest.disabled) {\n        var _eventHandlers;\n\n        eventHandlers = (_eventHandlers = {}, _eventHandlers[onChangeKey] = callAllEventHandlers(onChange, onInput, _this.inputHandleChange), _eventHandlers.onKeyDown = callAllEventHandlers(onKeyDown, _this.inputHandleKeyDown), _eventHandlers.onBlur = callAllEventHandlers(onBlur, _this.inputHandleBlur), _eventHandlers);\n      }\n      /* istanbul ignore if (react-native) */\n\n\n      return _extends({\n        'aria-autocomplete': 'list',\n        'aria-activedescendant': isOpen && typeof highlightedIndex === 'number' && highlightedIndex >= 0 ? _this.getItemId(highlightedIndex) : null,\n        'aria-controls': isOpen ? _this.menuId : null,\n        'aria-labelledby': _this.labelId,\n        // https://developer.mozilla.org/en-US/docs/Web/Security/Securing_your_site/Turning_off_form_autocompletion\n        // revert back since autocomplete=\"nope\" is ignored on latest Chrome and Opera\n        autoComplete: 'off',\n        value: inputValue,\n        id: _this.inputId\n      }, eventHandlers, {}, rest);\n    };\n\n    _this.inputHandleKeyDown = function (event) {\n      var key = normalizeArrowKey(event);\n\n      if (key && _this.inputKeyDownHandlers[key]) {\n        _this.inputKeyDownHandlers[key].call(_assertThisInitialized(_this), event);\n      }\n    };\n\n    _this.inputHandleChange = function (event) {\n      _this.internalSetState({\n        type: changeInput,\n        isOpen: true,\n        inputValue: event.target.value,\n        highlightedIndex: _this.props.defaultHighlightedIndex\n      });\n    };\n\n    _this.inputHandleBlur = function () {\n      // Need setTimeout, so that when the user presses Tab, the activeElement is the next focused element, not the body element\n      _this.internalSetTimeout(function () {\n        var downshiftButtonIsActive = _this.props.environment.document && !!_this.props.environment.document.activeElement && !!_this.props.environment.document.activeElement.dataset && _this.props.environment.document.activeElement.dataset.toggle && _this._rootNode && _this._rootNode.contains(_this.props.environment.document.activeElement);\n\n        if (!_this.isMouseDown && !downshiftButtonIsActive) {\n          _this.reset({\n            type: blurInput\n          });\n        }\n      });\n    };\n\n    _this.menuRef = function (node) {\n      _this._menuNode = node;\n    };\n\n    _this.getMenuProps = function (_temp5, _temp6) {\n      var _extends3;\n\n      var _ref5 = _temp5 === void 0 ? {} : _temp5,\n          _ref5$refKey = _ref5.refKey,\n          refKey = _ref5$refKey === void 0 ? 'ref' : _ref5$refKey,\n          ref = _ref5.ref,\n          props = _objectWithoutPropertiesLoose(_ref5, [\"refKey\", \"ref\"]);\n\n      var _ref6 = _temp6 === void 0 ? {} : _temp6,\n          _ref6$suppressRefErro = _ref6.suppressRefError,\n          suppressRefError = _ref6$suppressRefErro === void 0 ? false : _ref6$suppressRefErro;\n\n      _this.getMenuProps.called = true;\n      _this.getMenuProps.refKey = refKey;\n      _this.getMenuProps.suppressRefError = suppressRefError;\n      return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, _this.menuRef), _extends3.role = 'listbox', _extends3['aria-labelledby'] = props && props['aria-label'] ? null : _this.labelId, _extends3.id = _this.menuId, _extends3), props);\n    };\n\n    _this.getItemProps = function (_temp7) {\n      var _enabledEventHandlers;\n\n      var _ref7 = _temp7 === void 0 ? {} : _temp7,\n          onMouseMove = _ref7.onMouseMove,\n          onMouseDown = _ref7.onMouseDown,\n          onClick = _ref7.onClick,\n          onPress = _ref7.onPress,\n          index = _ref7.index,\n          _ref7$item = _ref7.item,\n          item = _ref7$item === void 0 ? process.env.NODE_ENV === 'production' ?\n      /* istanbul ignore next */\n      undefined : requiredProp('getItemProps', 'item') : _ref7$item,\n          rest = _objectWithoutPropertiesLoose(_ref7, [\"onMouseMove\", \"onMouseDown\", \"onClick\", \"onPress\", \"index\", \"item\"]);\n\n      if (index === undefined) {\n        _this.items.push(item);\n\n        index = _this.items.indexOf(item);\n      } else {\n        _this.items[index] = item;\n      }\n\n      var onSelectKey = 'onClick';\n      var customClickHandler = onClick;\n      var enabledEventHandlers = (_enabledEventHandlers = {\n        // onMouseMove is used over onMouseEnter here. onMouseMove\n        // is only triggered on actual mouse movement while onMouseEnter\n        // can fire on DOM changes, interrupting keyboard navigation\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          if (index === _this.getState().highlightedIndex) {\n            return;\n          }\n\n          _this.setHighlightedIndex(index, {\n            type: itemMouseEnter\n          }); // We never want to manually scroll when changing state based\n          // on `onMouseMove` because we will be moving the element out\n          // from under the user which is currently scrolling/moving the\n          // cursor\n\n\n          _this.avoidScrolling = true;\n\n          _this.internalSetTimeout(function () {\n            return _this.avoidScrolling = false;\n          }, 250);\n        }),\n        onMouseDown: callAllEventHandlers(onMouseDown, function (event) {\n          // This prevents the activeElement from being changed\n          // to the item so it can remain with the current activeElement\n          // which is a more common use case.\n          event.preventDefault();\n        })\n      }, _enabledEventHandlers[onSelectKey] = callAllEventHandlers(customClickHandler, function () {\n        _this.selectItemAtIndex(index, {\n          type: clickItem\n        });\n      }), _enabledEventHandlers); // Passing down the onMouseDown handler to prevent redirect\n      // of the activeElement if clicking on disabled items\n\n      var eventHandlers = rest.disabled ? {\n        onMouseDown: enabledEventHandlers.onMouseDown\n      } : enabledEventHandlers;\n      return _extends({\n        id: _this.getItemId(index),\n        role: 'option',\n        'aria-selected': _this.getState().highlightedIndex === index\n      }, eventHandlers, {}, rest);\n    };\n\n    _this.clearItems = function () {\n      _this.items = [];\n    };\n\n    _this.reset = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref8) {\n        var selectedItem = _ref8.selectedItem;\n        return _extends({\n          isOpen: _this.props.defaultIsOpen,\n          highlightedIndex: _this.props.defaultHighlightedIndex,\n          inputValue: _this.props.itemToString(selectedItem)\n        }, otherStateToSet);\n      }, cb);\n    };\n\n    _this.toggleMenu = function (otherStateToSet, cb) {\n      if (otherStateToSet === void 0) {\n        otherStateToSet = {};\n      }\n\n      otherStateToSet = pickState(otherStateToSet);\n\n      _this.internalSetState(function (_ref9) {\n        var isOpen = _ref9.isOpen;\n        return _extends({\n          isOpen: !isOpen\n        }, isOpen && {\n          highlightedIndex: _this.props.defaultHighlightedIndex\n        }, {}, otherStateToSet);\n      }, function () {\n        var _this$getState5 = _this.getState(),\n            isOpen = _this$getState5.isOpen,\n            highlightedIndex = _this$getState5.highlightedIndex;\n\n        if (isOpen) {\n          if (_this.getItemCount() > 0 && typeof highlightedIndex === 'number') {\n            _this.setHighlightedIndex(highlightedIndex, otherStateToSet);\n          }\n        }\n\n        cbToCb(cb)();\n      });\n    };\n\n    _this.openMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: true\n      }, cb);\n    };\n\n    _this.closeMenu = function (cb) {\n      _this.internalSetState({\n        isOpen: false\n      }, cb);\n    };\n\n    _this.updateStatus = debounce(function () {\n      var state = _this.getState();\n\n      var item = _this.items[state.highlightedIndex];\n\n      var resultCount = _this.getItemCount();\n\n      var status = _this.props.getA11yStatusMessage(_extends({\n        itemToString: _this.props.itemToString,\n        previousResultCount: _this.previousResultCount,\n        resultCount: resultCount,\n        highlightedItem: item\n      }, state));\n\n      _this.previousResultCount = resultCount;\n      setStatus(status, _this.props.environment.document);\n    }, 200);\n\n    // fancy destructuring + defaults + aliases\n    // this basically says each value of state should either be set to\n    // the initial value or the default value if the initial value is not provided\n    var _this$props = _this.props,\n        defaultHighlightedIndex = _this$props.defaultHighlightedIndex,\n        _this$props$initialHi = _this$props.initialHighlightedIndex,\n        _highlightedIndex = _this$props$initialHi === void 0 ? defaultHighlightedIndex : _this$props$initialHi,\n        defaultIsOpen = _this$props.defaultIsOpen,\n        _this$props$initialIs = _this$props.initialIsOpen,\n        _isOpen = _this$props$initialIs === void 0 ? defaultIsOpen : _this$props$initialIs,\n        _this$props$initialIn = _this$props.initialInputValue,\n        _inputValue = _this$props$initialIn === void 0 ? '' : _this$props$initialIn,\n        _this$props$initialSe = _this$props.initialSelectedItem,\n        _selectedItem = _this$props$initialSe === void 0 ? null : _this$props$initialSe;\n\n    var _state = _this.getState({\n      highlightedIndex: _highlightedIndex,\n      isOpen: _isOpen,\n      inputValue: _inputValue,\n      selectedItem: _selectedItem\n    });\n\n    if (_state.selectedItem != null && _this.props.initialInputValue === undefined) {\n      _state.inputValue = _this.props.itemToString(_state.selectedItem);\n    }\n\n    _this.state = _state;\n    return _this;\n  }\n\n  var _proto = Downshift.prototype;\n\n  /**\n   * Clear all running timeouts\n   */\n  _proto.internalClearTimeouts = function internalClearTimeouts() {\n    this.timeoutIds.forEach(function (id) {\n      clearTimeout(id);\n    });\n    this.timeoutIds = [];\n  }\n  /**\n   * Gets the state based on internal state or props\n   * If a state value is passed via props, then that\n   * is the value given, otherwise it's retrieved from\n   * stateToMerge\n   *\n   * This will perform a shallow merge of the given state object\n   * with the state coming from props\n   * (for the controlled component scenario)\n   * This is used in state updater functions so they're referencing\n   * the right state regardless of where it comes from.\n   *\n   * @param {Object} stateToMerge defaults to this.state\n   * @return {Object} the state\n   */\n  ;\n\n  _proto.getState = function getState(stateToMerge) {\n    var _this4 = this;\n\n    if (stateToMerge === void 0) {\n      stateToMerge = this.state;\n    }\n\n    return Object.keys(stateToMerge).reduce(function (state, key) {\n      state[key] = _this4.isControlledProp(key) ? _this4.props[key] : stateToMerge[key];\n      return state;\n    }, {});\n  }\n  /**\n   * This determines whether a prop is a \"controlled prop\" meaning it is\n   * state which is controlled by the outside of this component rather\n   * than within this component.\n   * @param {String} key the key to check\n   * @return {Boolean} whether it is a controlled controlled prop\n   */\n  ;\n\n  _proto.isControlledProp = function isControlledProp(key) {\n    return this.props[key] !== undefined;\n  };\n\n  _proto.getItemCount = function getItemCount() {\n    // things read better this way. They're in priority order:\n    // 1. `this.itemCount`\n    // 2. `this.props.itemCount`\n    // 3. `this.items.length`\n    var itemCount = this.items.length;\n\n    if (this.itemCount != null) {\n      itemCount = this.itemCount;\n    } else if (this.props.itemCount !== undefined) {\n      itemCount = this.props.itemCount;\n    }\n\n    return itemCount;\n  };\n\n  _proto.getItemNodeFromIndex = function getItemNodeFromIndex(index) {\n    return this.props.environment.document.getElementById(this.getItemId(index));\n  };\n\n  _proto.scrollHighlightedItemIntoView = function scrollHighlightedItemIntoView() {\n    /* istanbul ignore else (react-native) */\n    {\n      var node = this.getItemNodeFromIndex(this.getState().highlightedIndex);\n      this.props.scrollIntoView(node, this._menuNode);\n    }\n  };\n\n  _proto.moveHighlightedIndex = function moveHighlightedIndex(amount, otherStateToSet) {\n    var itemCount = this.getItemCount();\n\n    if (itemCount > 0) {\n      var nextHighlightedIndex = getNextWrappingIndex(amount, this.getState().highlightedIndex, itemCount);\n      this.setHighlightedIndex(nextHighlightedIndex, otherStateToSet);\n    }\n  };\n\n  _proto.highlightFirstOrLastIndex = function highlightFirstOrLastIndex(event, first, otherStateToSet) {\n    var itemsLastIndex = this.getItemCount() - 1;\n\n    if (itemsLastIndex < 0 || !this.getState().isOpen) {\n      return;\n    }\n\n    event.preventDefault();\n    this.setHighlightedIndex(first ? 0 : itemsLastIndex, otherStateToSet);\n  };\n\n  _proto.getStateAndHelpers = function getStateAndHelpers() {\n    var _this$getState6 = this.getState(),\n        highlightedIndex = _this$getState6.highlightedIndex,\n        inputValue = _this$getState6.inputValue,\n        selectedItem = _this$getState6.selectedItem,\n        isOpen = _this$getState6.isOpen;\n\n    var itemToString = this.props.itemToString;\n    var id = this.id;\n    var getRootProps = this.getRootProps,\n        getToggleButtonProps = this.getToggleButtonProps,\n        getLabelProps = this.getLabelProps,\n        getMenuProps = this.getMenuProps,\n        getInputProps = this.getInputProps,\n        getItemProps = this.getItemProps,\n        openMenu = this.openMenu,\n        closeMenu = this.closeMenu,\n        toggleMenu = this.toggleMenu,\n        selectItem = this.selectItem,\n        selectItemAtIndex = this.selectItemAtIndex,\n        selectHighlightedItem = this.selectHighlightedItem,\n        setHighlightedIndex = this.setHighlightedIndex,\n        clearSelection = this.clearSelection,\n        clearItems = this.clearItems,\n        reset = this.reset,\n        setItemCount = this.setItemCount,\n        unsetItemCount = this.unsetItemCount,\n        setState = this.internalSetState;\n    return {\n      // prop getters\n      getRootProps: getRootProps,\n      getToggleButtonProps: getToggleButtonProps,\n      getLabelProps: getLabelProps,\n      getMenuProps: getMenuProps,\n      getInputProps: getInputProps,\n      getItemProps: getItemProps,\n      // actions\n      reset: reset,\n      openMenu: openMenu,\n      closeMenu: closeMenu,\n      toggleMenu: toggleMenu,\n      selectItem: selectItem,\n      selectItemAtIndex: selectItemAtIndex,\n      selectHighlightedItem: selectHighlightedItem,\n      setHighlightedIndex: setHighlightedIndex,\n      clearSelection: clearSelection,\n      clearItems: clearItems,\n      setItemCount: setItemCount,\n      unsetItemCount: unsetItemCount,\n      setState: setState,\n      // props\n      itemToString: itemToString,\n      // derived\n      id: id,\n      // state\n      highlightedIndex: highlightedIndex,\n      inputValue: inputValue,\n      isOpen: isOpen,\n      selectedItem: selectedItem\n    };\n  } //////////////////////////// ROOT\n  ;\n\n  _proto.componentDidMount = function componentDidMount() {\n    var _this5 = this;\n\n    /* istanbul ignore if (react-native) */\n    if (process.env.NODE_ENV !== 'production' && !false && this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n      validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n    }\n    /* istanbul ignore if (react-native) */\n\n\n    {\n      var targetWithinDownshift = function (target, checkActiveElement) {\n        if (checkActiveElement === void 0) {\n          checkActiveElement = true;\n        }\n\n        var document = _this5.props.environment.document;\n        return [_this5._rootNode, _this5._menuNode].some(function (contextNode) {\n          return contextNode && (isOrContainsNode(contextNode, target) || checkActiveElement && isOrContainsNode(contextNode, document.activeElement));\n        });\n      }; // this.isMouseDown helps us track whether the mouse is currently held down.\n      // This is useful when the user clicks on an item in the list, but holds the mouse\n      // down long enough for the list to disappear (because the blur event fires on the input)\n      // this.isMouseDown is used in the blur handler on the input to determine whether the blur event should\n      // trigger hiding the menu.\n\n\n      var onMouseDown = function () {\n        _this5.isMouseDown = true;\n      };\n\n      var onMouseUp = function (event) {\n        _this5.isMouseDown = false; // if the target element or the activeElement is within a downshift node\n        // then we don't want to reset downshift\n\n        var contextWithinDownshift = targetWithinDownshift(event.target);\n\n        if (!contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: mouseUp\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      }; // Touching an element in iOS gives focus and hover states, but touching out of\n      // the element will remove hover, and persist the focus state, resulting in the\n      // blur event not being triggered.\n      // this.isTouchMove helps us track whether the user is tapping or swiping on a touch screen.\n      // If the user taps outside of Downshift, the component should be reset,\n      // but not if the user is swiping\n\n\n      var onTouchStart = function () {\n        _this5.isTouchMove = false;\n      };\n\n      var onTouchMove = function () {\n        _this5.isTouchMove = true;\n      };\n\n      var onTouchEnd = function (event) {\n        var contextWithinDownshift = targetWithinDownshift(event.target, false);\n\n        if (!_this5.isTouchMove && !contextWithinDownshift && _this5.getState().isOpen) {\n          _this5.reset({\n            type: touchEnd\n          }, function () {\n            return _this5.props.onOuterClick(_this5.getStateAndHelpers());\n          });\n        }\n      };\n\n      var environment = this.props.environment;\n      environment.addEventListener('mousedown', onMouseDown);\n      environment.addEventListener('mouseup', onMouseUp);\n      environment.addEventListener('touchstart', onTouchStart);\n      environment.addEventListener('touchmove', onTouchMove);\n      environment.addEventListener('touchend', onTouchEnd);\n\n      this.cleanup = function () {\n        _this5.internalClearTimeouts();\n\n        _this5.updateStatus.cancel();\n\n        environment.removeEventListener('mousedown', onMouseDown);\n        environment.removeEventListener('mouseup', onMouseUp);\n        environment.removeEventListener('touchstart', onTouchStart);\n        environment.removeEventListener('touchmove', onTouchMove);\n        environment.removeEventListener('touchend', onTouchEnd);\n      };\n    }\n  };\n\n  _proto.shouldScroll = function shouldScroll(prevState, prevProps) {\n    var _ref10 = this.props.highlightedIndex === undefined ? this.getState() : this.props,\n        currentHighlightedIndex = _ref10.highlightedIndex;\n\n    var _ref11 = prevProps.highlightedIndex === undefined ? prevState : prevProps,\n        prevHighlightedIndex = _ref11.highlightedIndex;\n\n    var scrollWhenOpen = currentHighlightedIndex && this.getState().isOpen && !prevState.isOpen;\n    return scrollWhenOpen || currentHighlightedIndex !== prevHighlightedIndex;\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps, prevState) {\n    if (process.env.NODE_ENV !== 'production') {\n      validateControlledUnchanged(prevProps, this.props);\n      /* istanbul ignore if (react-native) */\n\n      if ( this.getMenuProps.called && !this.getMenuProps.suppressRefError) {\n        validateGetMenuPropsCalledCorrectly(this._menuNode, this.getMenuProps);\n      }\n    }\n\n    if (this.isControlledProp('selectedItem') && this.props.selectedItemChanged(prevProps.selectedItem, this.props.selectedItem)) {\n      this.internalSetState({\n        type: controlledPropUpdatedSelectedItem,\n        inputValue: this.props.itemToString(this.props.selectedItem)\n      });\n    }\n\n    if (!this.avoidScrolling && this.shouldScroll(prevState, prevProps)) {\n      this.scrollHighlightedItemIntoView();\n    }\n    /* istanbul ignore else (react-native) */\n\n\n    this.updateStatus();\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cleanup(); // avoids memory leak\n  };\n\n  _proto.render = function render() {\n    var children = unwrapArray(this.props.children, noop); // because the items are rerendered every time we call the children\n    // we clear this out each render and it will be populated again as\n    // getItemProps is called.\n\n    this.clearItems(); // we reset this so we know whether the user calls getRootProps during\n    // this render. If they do then we don't need to do anything,\n    // if they don't then we need to clone the element they return and\n    // apply the props for them.\n\n    this.getRootProps.called = false;\n    this.getRootProps.refKey = undefined;\n    this.getRootProps.suppressRefError = undefined; // we do something similar for getMenuProps\n\n    this.getMenuProps.called = false;\n    this.getMenuProps.refKey = undefined;\n    this.getMenuProps.suppressRefError = undefined; // we do something similar for getLabelProps\n\n    this.getLabelProps.called = false; // and something similar for getInputProps\n\n    this.getInputProps.called = false;\n    var element = unwrapArray(children(this.getStateAndHelpers()));\n\n    if (!element) {\n      return null;\n    }\n\n    if (this.getRootProps.called || this.props.suppressRefError) {\n      if (process.env.NODE_ENV !== 'production' && !this.getRootProps.suppressRefError && !this.props.suppressRefError) {\n        validateGetRootPropsCalledCorrectly(element, this.getRootProps);\n      }\n\n      return element;\n    } else if (isDOMElement(element)) {\n      // they didn't apply the root props, but we can clone\n      // this and apply the props ourselves\n      return cloneElement(element, this.getRootProps(getElementProps(element)));\n    }\n    /* istanbul ignore else */\n\n\n    if (process.env.NODE_ENV !== 'production') {\n      // they didn't apply the root props, but they need to\n      // otherwise we can't query around the autocomplete\n      throw new Error('downshift: If you return a non-DOM element, you must use apply the getRootProps function');\n    }\n    /* istanbul ignore next */\n\n\n    return undefined;\n  };\n\n  return Downshift;\n}(Component);\n\nDownshift.defaultProps = {\n  defaultHighlightedIndex: null,\n  defaultIsOpen: false,\n  getA11yStatusMessage: getA11yStatusMessage,\n  itemToString: function itemToString(i) {\n    if (i == null) {\n      return '';\n    }\n\n    if (process.env.NODE_ENV !== 'production' && isPlainObject(i) && !i.hasOwnProperty('toString')) {\n      // eslint-disable-next-line no-console\n      console.warn('downshift: An object was passed to the default implementation of `itemToString`. You should probably provide your own `itemToString` implementation. Please refer to the `itemToString` API documentation.', 'The object that was passed:', i);\n    }\n\n    return String(i);\n  },\n  onStateChange: noop,\n  onInputValueChange: noop,\n  onUserAction: noop,\n  onChange: noop,\n  onSelect: noop,\n  onOuterClick: noop,\n  selectedItemChanged: function selectedItemChanged(prevItem, item) {\n    return prevItem !== item;\n  },\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window,\n  stateReducer: function stateReducer(state, stateToSet) {\n    return stateToSet;\n  },\n  suppressRefError: false,\n  scrollIntoView: scrollIntoView\n};\nDownshift.stateChangeTypes = stateChangeTypes;\nprocess.env.NODE_ENV !== \"production\" ? Downshift.propTypes = {\n  children: PropTypes.func,\n  defaultHighlightedIndex: PropTypes.number,\n  defaultIsOpen: PropTypes.bool,\n  initialHighlightedIndex: PropTypes.number,\n  initialSelectedItem: PropTypes.any,\n  initialInputValue: PropTypes.string,\n  initialIsOpen: PropTypes.bool,\n  getA11yStatusMessage: PropTypes.func,\n  itemToString: PropTypes.func,\n  onChange: PropTypes.func,\n  onSelect: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onInputValueChange: PropTypes.func,\n  onUserAction: PropTypes.func,\n  onOuterClick: PropTypes.func,\n  selectedItemChanged: PropTypes.func,\n  stateReducer: PropTypes.func,\n  itemCount: PropTypes.number,\n  id: PropTypes.string,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  }),\n  suppressRefError: PropTypes.bool,\n  scrollIntoView: PropTypes.func,\n  // things we keep in state for uncontrolled components\n  // but can accept as props for controlled components\n\n  /* eslint-disable react/no-unused-prop-types */\n  selectedItem: PropTypes.any,\n  isOpen: PropTypes.bool,\n  inputValue: PropTypes.string,\n  highlightedIndex: PropTypes.number,\n  labelId: PropTypes.string,\n  inputId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func\n  /* eslint-enable react/no-unused-prop-types */\n\n} : void 0;\n\nfunction validateGetMenuPropsCalledCorrectly(node, _ref12) {\n  var refKey = _ref12.refKey;\n\n  if (!node) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: The ref prop \\\"\" + refKey + \"\\\" from getMenuProps was not applied correctly on your menu element.\");\n  }\n}\n\nfunction validateGetRootPropsCalledCorrectly(element, _ref13) {\n  var refKey = _ref13.refKey;\n  var refKeySpecified = refKey !== 'ref';\n  var isComposite = !isDOMElement(element);\n\n  if (isComposite && !refKeySpecified && !isForwardRef(element)) {\n    // eslint-disable-next-line no-console\n    console.error('downshift: You returned a non-DOM element. You must specify a refKey in getRootProps');\n  } else if (!isComposite && refKeySpecified) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You returned a DOM element. You should not specify a refKey in getRootProps. You specified \\\"\" + refKey + \"\\\"\");\n  }\n\n  if (!isForwardRef(element) && !getElementProps(element)[refKey]) {\n    // eslint-disable-next-line no-console\n    console.error(\"downshift: You must apply the ref prop \\\"\" + refKey + \"\\\" from getRootProps onto your root element.\");\n  }\n}\n\nfunction validateControlledUnchanged(prevProps, nextProps) {\n  var warningDescription = \"This prop should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled Downshift element for the lifetime of the component. More info: https://github.com/downshift-js/downshift#control-props\";\n  ['selectedItem', 'isOpen', 'inputValue', 'highlightedIndex'].forEach(function (propKey) {\n    if (prevProps[propKey] !== undefined && nextProps[propKey] === undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the controlled prop \\\"\" + propKey + \"\\\" to be uncontrolled. \" + warningDescription);\n    } else if (prevProps[propKey] === undefined && nextProps[propKey] !== undefined) {\n      // eslint-disable-next-line no-console\n      console.error(\"downshift: A component has changed the uncontrolled prop \\\"\" + propKey + \"\\\" to be controlled. \" + warningDescription);\n    }\n  });\n}\n\nfunction getElementIds(generateDefaultId, _temp) {\n  var _ref = _temp === void 0 ? {} : _temp,\n      id = _ref.id,\n      labelId = _ref.labelId,\n      menuId = _ref.menuId,\n      getItemId = _ref.getItemId,\n      toggleButtonId = _ref.toggleButtonId;\n\n  var uniqueId = id === undefined ? \"downshift-\" + generateDefaultId() : id;\n  return {\n    labelId: labelId || uniqueId + \"-label\",\n    menuId: menuId || uniqueId + \"-menu\",\n    getItemId: getItemId || function (index) {\n      return uniqueId + \"-item-\" + index;\n    },\n    toggleButtonId: toggleButtonId || uniqueId + \"-toggle-button\"\n  };\n}\n\nfunction getNextWrappingIndex$1(moveAmount, baseIndex, itemsLength, circular) {\n  if (baseIndex === -1) {\n    return moveAmount > 0 ? 0 : itemsLength - 1;\n  }\n\n  var nextIndex = baseIndex + moveAmount;\n\n  if (nextIndex < 0) {\n    return circular ? itemsLength - 1 : 0;\n  }\n\n  if (nextIndex >= itemsLength) {\n    return circular ? 0 : itemsLength - 1;\n  }\n\n  return nextIndex;\n}\n\nfunction getItemIndexByCharacterKey(keysSoFar, highlightedIndex, items, itemToStringParam) {\n  var newHighlightedIndex = -1;\n  var itemStrings = items.map(function (item) {\n    return itemToStringParam(item).toLowerCase();\n  });\n  var startPosition = highlightedIndex + 1;\n  newHighlightedIndex = itemStrings.slice(startPosition).findIndex(function (itemString) {\n    return itemString.startsWith(keysSoFar);\n  });\n\n  if (newHighlightedIndex > -1) {\n    return newHighlightedIndex + startPosition;\n  } else {\n    return itemStrings.slice(0, startPosition).findIndex(function (itemString) {\n      return itemString.startsWith(keysSoFar);\n    });\n  }\n}\n\nfunction getState(state, props) {\n  return Object.keys(state).reduce(function (prevState, key) {\n    // eslint-disable-next-line no-param-reassign\n    prevState[key] = key in props ? props[key] : state[key];\n    return prevState;\n  }, {});\n}\n\nfunction getItemIndex(index, item, items) {\n  if (index !== undefined) {\n    return index;\n  }\n\n  if (items.length === 0) {\n    return -1;\n  }\n\n  return items.indexOf(item);\n}\n\nfunction itemToString(item) {\n  return item ? String(item) : '';\n}\n\nfunction getPropTypesValidator(caller, propTypes) {\n  // istanbul ignore next\n  return function (options) {\n    if (options === void 0) {\n      options = {};\n    }\n\n    Object.entries(propTypes).forEach(function (_ref2) {\n      var key = _ref2[0];\n      PropTypes.checkPropTypes(propTypes, options, key, caller.name);\n    });\n  };\n}\n\nfunction isAcceptedCharacterKey(key) {\n  return /^\\S{1}$/.test(key);\n}\n\nfunction capitalizeString(string) {\n  return \"\" + string.slice(0, 1).toUpperCase() + string.slice(1);\n}\n\nfunction invokeOnChangeHandler(propKey, props, state, changes) {\n  var handler = \"on\" + capitalizeString(propKey) + \"Change\";\n\n  if (props[handler] && changes[propKey] !== undefined && changes[propKey] !== state[propKey]) {\n    props[handler](changes);\n  }\n}\n\nfunction callOnChangeProps(props, state, changes) {\n  Object.keys(state).forEach(function (stateKey) {\n    invokeOnChangeHandler(stateKey, props, state, changes);\n  });\n\n  if (props.onStateChange && changes !== undefined) {\n    props.onStateChange(changes);\n  }\n}\n\nfunction useEnhancedReducer(reducer, initialState, props) {\n  var enhancedReducer = useCallback(function (state, action) {\n    state = getState(state, action.props);\n    var stateReducer = action.props.stateReducer;\n    var changes = reducer(state, action);\n    var newState = stateReducer(state, _extends({}, action, {\n      changes: changes\n    }));\n    callOnChangeProps(action.props, state, newState);\n    return newState;\n  }, [reducer]);\n\n  var _useReducer = useReducer(enhancedReducer, initialState),\n      state = _useReducer[0],\n      dispatch = _useReducer[1];\n\n  return [getState(state, props), dispatch];\n}\n\nvar lastId = 0; // istanbul ignore next\n\nvar genId = function () {\n  return ++lastId;\n};\n/**\n * Autogenerate IDs to facilitate WAI-ARIA and server rendering.\n * Taken from @reach/auto-id\n * @see https://github.com/reach/reach-ui/blob/6e9dbcf716d5c9a3420e062e5bac1ac4671d01cb/packages/auto-id/src/index.js\n */\n// istanbul ignore next\n\n\nfunction useId() {\n  var _useState = useState(null),\n      id = _useState[0],\n      setId = _useState[1];\n\n  useEffect(function () {\n    return setId(genId());\n  }, []);\n  return id;\n}\n\nvar defaultStateValues = {\n  highlightedIndex: -1,\n  isOpen: false,\n  selectedItem: null\n};\n\nfunction getA11yStatusMessage$1(_ref) {\n  var isOpen = _ref.isOpen,\n      items = _ref.items;\n\n  if (!items) {\n    return '';\n  }\n\n  var resultCount = items.length;\n\n  if (isOpen) {\n    if (resultCount === 0) {\n      return 'No results are available';\n    }\n\n    return resultCount + \" result\" + (resultCount === 1 ? ' is' : 's are') + \" available, use up and down arrow keys to navigate. Press Enter key to select.\";\n  }\n\n  return '';\n}\n\nfunction getA11ySelectionMessage(_ref2) {\n  var selectedItem = _ref2.selectedItem,\n      itemToString = _ref2.itemToString;\n  return itemToString(selectedItem) + \" has been selected.\";\n}\n\nfunction getHighlightedIndexOnOpen(props, state, offset) {\n  var items = props.items,\n      initialHighlightedIndex = props.initialHighlightedIndex,\n      defaultHighlightedIndex = props.defaultHighlightedIndex;\n  var selectedItem = state.selectedItem,\n      highlightedIndex = state.highlightedIndex; // initialHighlightedIndex will give value to highlightedIndex on initial state only.\n\n  if (initialHighlightedIndex !== undefined && highlightedIndex > -1) {\n    return initialHighlightedIndex;\n  }\n\n  if (defaultHighlightedIndex !== undefined) {\n    return defaultHighlightedIndex;\n  }\n\n  if (selectedItem) {\n    if (offset === 0) {\n      return items.indexOf(selectedItem);\n    }\n\n    return getNextWrappingIndex$1(offset, items.indexOf(selectedItem), items.length, false);\n  }\n\n  if (offset === 0) {\n    return -1;\n  }\n\n  return offset < 0 ? items.length - 1 : 0;\n}\n\nfunction getDefaultValue(props, propKey) {\n  var defaultPropKey = \"default\" + capitalizeString(propKey);\n\n  if (defaultPropKey in props) {\n    return props[defaultPropKey];\n  }\n\n  return defaultStateValues[propKey];\n}\n\nfunction getInitialValue(props, propKey) {\n  if (propKey in props) {\n    return props[propKey];\n  }\n\n  var initialPropKey = \"initial\" + capitalizeString(propKey);\n\n  if (initialPropKey in props) {\n    return props[initialPropKey];\n  }\n\n  return getDefaultValue(props, propKey);\n}\n\nfunction getInitialState(props) {\n  var selectedItem = getInitialValue(props, 'selectedItem');\n  var highlightedIndex = getInitialValue(props, 'highlightedIndex');\n  var isOpen = getInitialValue(props, 'isOpen');\n  return {\n    highlightedIndex: highlightedIndex < 0 && selectedItem ? props.items.indexOf(selectedItem) : highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem,\n    keysSoFar: ''\n  };\n}\n\nvar propTypes = {\n  items: PropTypes.array.isRequired,\n  itemToString: PropTypes.func,\n  getA11yStatusMessage: PropTypes.func,\n  getA11ySelectionMessage: PropTypes.func,\n  circularNavigation: PropTypes.bool,\n  highlightedIndex: PropTypes.number,\n  defaultHighlightedIndex: PropTypes.number,\n  initialHighlightedIndex: PropTypes.number,\n  isOpen: PropTypes.bool,\n  defaultIsOpen: PropTypes.bool,\n  initialIsOpen: PropTypes.bool,\n  selectedItem: PropTypes.any,\n  initialSelectedItem: PropTypes.any,\n  defaultSelectedItem: PropTypes.any,\n  id: PropTypes.string,\n  labelId: PropTypes.string,\n  menuId: PropTypes.string,\n  getItemId: PropTypes.func,\n  toggleButtonId: PropTypes.string,\n  stateReducer: PropTypes.func,\n  onSelectedItemChange: PropTypes.func,\n  onHighlightedIndexChange: PropTypes.func,\n  onStateChange: PropTypes.func,\n  onIsOpenChange: PropTypes.func,\n  environment: PropTypes.shape({\n    addEventListener: PropTypes.func,\n    removeEventListener: PropTypes.func,\n    document: PropTypes.shape({\n      getElementById: PropTypes.func,\n      activeElement: PropTypes.any,\n      body: PropTypes.any\n    })\n  })\n};\n\nvar MenuKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_down__' : 0;\nvar MenuKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_arrow_up__' : 1;\nvar MenuKeyDownEscape = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_escape__' : 2;\nvar MenuKeyDownHome = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_home__' : 3;\nvar MenuKeyDownEnd = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_end__' : 4;\nvar MenuKeyDownEnter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_enter__' : 5;\nvar MenuKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__menu_keydown_character__' : 6;\nvar MenuBlur = process.env.NODE_ENV !== \"production\" ? '__menu_blur__' : 7;\nvar MenuMouseLeave = process.env.NODE_ENV !== \"production\" ? '__menu_mouse_leave__' : 8;\nvar ItemMouseMove = process.env.NODE_ENV !== \"production\" ? '__item_mouse_move__' : 9;\nvar ItemClick = process.env.NODE_ENV !== \"production\" ? '__item_click__' : 10;\nvar ToggleButtonKeyDownCharacter = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_character__' : 11;\nvar ToggleButtonKeyDownArrowDown = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_down__' : 12;\nvar ToggleButtonKeyDownArrowUp = process.env.NODE_ENV !== \"production\" ? '__togglebutton_keydown_arrow_up__' : 13;\nvar ToggleButtonClick = process.env.NODE_ENV !== \"production\" ? '__togglebutton_click__' : 14;\nvar FunctionToggleMenu = process.env.NODE_ENV !== \"production\" ? '__function_toggle_menu__' : 15;\nvar FunctionOpenMenu = process.env.NODE_ENV !== \"production\" ? '__function_open_menu__' : 16;\nvar FunctionCloseMenu = process.env.NODE_ENV !== \"production\" ? '__function_close_menu__' : 17;\nvar FunctionSetHighlightedIndex = process.env.NODE_ENV !== \"production\" ? '__function_set_highlighted_index__' : 18;\nvar FunctionSelectItem = process.env.NODE_ENV !== \"production\" ? '__function_select_item__' : 19;\nvar FunctionClearKeysSoFar = process.env.NODE_ENV !== \"production\" ? '__function_clear_keys_so_far__' : 20;\nvar FunctionReset = process.env.NODE_ENV !== \"production\" ? '__function_reset__' : 21;\n\nvar stateChangeTypes$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  MenuKeyDownArrowDown: MenuKeyDownArrowDown,\n  MenuKeyDownArrowUp: MenuKeyDownArrowUp,\n  MenuKeyDownEscape: MenuKeyDownEscape,\n  MenuKeyDownHome: MenuKeyDownHome,\n  MenuKeyDownEnd: MenuKeyDownEnd,\n  MenuKeyDownEnter: MenuKeyDownEnter,\n  MenuKeyDownCharacter: MenuKeyDownCharacter,\n  MenuBlur: MenuBlur,\n  MenuMouseLeave: MenuMouseLeave,\n  ItemMouseMove: ItemMouseMove,\n  ItemClick: ItemClick,\n  ToggleButtonKeyDownCharacter: ToggleButtonKeyDownCharacter,\n  ToggleButtonKeyDownArrowDown: ToggleButtonKeyDownArrowDown,\n  ToggleButtonKeyDownArrowUp: ToggleButtonKeyDownArrowUp,\n  ToggleButtonClick: ToggleButtonClick,\n  FunctionToggleMenu: FunctionToggleMenu,\n  FunctionOpenMenu: FunctionOpenMenu,\n  FunctionCloseMenu: FunctionCloseMenu,\n  FunctionSetHighlightedIndex: FunctionSetHighlightedIndex,\n  FunctionSelectItem: FunctionSelectItem,\n  FunctionClearKeysSoFar: FunctionClearKeysSoFar,\n  FunctionReset: FunctionReset\n});\n\n/* eslint-disable complexity */\n\nfunction downshiftSelectReducer(state, action) {\n  var type = action.type,\n      props = action.props,\n      shiftKey = action.shiftKey;\n  var changes;\n\n  switch (type) {\n    case ItemMouseMove:\n      changes = {\n        highlightedIndex: action.index\n      };\n      break;\n\n    case ItemClick:\n      changes = {\n        isOpen: getDefaultValue(props, 'isOpen'),\n        highlightedIndex: getDefaultValue(props, 'highlightedIndex'),\n        selectedItem: props.items[action.index]\n      };\n      break;\n\n    case MenuBlur:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownArrowDown:\n      changes = {\n        highlightedIndex: getNextWrappingIndex$1(shiftKey ? 5 : 1, state.highlightedIndex, props.items.length, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownArrowUp:\n      changes = {\n        highlightedIndex: getNextWrappingIndex$1(shiftKey ? -5 : -1, state.highlightedIndex, props.items.length, props.circularNavigation)\n      };\n      break;\n\n    case MenuKeyDownHome:\n      changes = {\n        highlightedIndex: 0\n      };\n      break;\n\n    case MenuKeyDownEnd:\n      changes = {\n        highlightedIndex: props.items.length - 1\n      };\n      break;\n\n    case MenuKeyDownEscape:\n      changes = {\n        isOpen: false,\n        highlightedIndex: -1\n      };\n      break;\n\n    case MenuKeyDownEnter:\n      changes = _extends({\n        isOpen: getDefaultValue(props, 'isOpen'),\n        highlightedIndex: getDefaultValue(props, 'highlightedIndex')\n      }, state.highlightedIndex >= 0 && {\n        selectedItem: props.items[state.highlightedIndex]\n      });\n      break;\n\n    case MenuKeyDownCharacter:\n      {\n        var lowercasedKey = action.key;\n        var keysSoFar = \"\" + state.keysSoFar + lowercasedKey;\n        var highlightedIndex = getItemIndexByCharacterKey(keysSoFar, state.highlightedIndex, props.items, props.itemToString);\n        changes = _extends({\n          keysSoFar: keysSoFar\n        }, highlightedIndex >= 0 && {\n          highlightedIndex: highlightedIndex\n        });\n      }\n      break;\n\n    case MenuMouseLeave:\n      changes = {\n        highlightedIndex: -1\n      };\n      break;\n\n    case ToggleButtonKeyDownCharacter:\n      {\n        var _lowercasedKey = action.key;\n\n        var _keysSoFar = \"\" + state.keysSoFar + _lowercasedKey;\n\n        var itemIndex = getItemIndexByCharacterKey(_keysSoFar, state.selectedItem ? props.items.indexOf(state.selectedItem) : -1, props.items, props.itemToString);\n        changes = _extends({\n          keysSoFar: _keysSoFar\n        }, itemIndex >= 0 && {\n          selectedItem: props.items[itemIndex]\n        });\n      }\n      break;\n\n    case ToggleButtonKeyDownArrowDown:\n      {\n        changes = {\n          isOpen: true,\n          highlightedIndex: getHighlightedIndexOnOpen(props, state, 1)\n        };\n        break;\n      }\n\n    case ToggleButtonKeyDownArrowUp:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, -1)\n      };\n      break;\n\n    case ToggleButtonClick:\n    case FunctionToggleMenu:\n      changes = {\n        isOpen: !state.isOpen,\n        highlightedIndex: state.isOpen ? -1 : getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionOpenMenu:\n      changes = {\n        isOpen: true,\n        highlightedIndex: getHighlightedIndexOnOpen(props, state, 0)\n      };\n      break;\n\n    case FunctionCloseMenu:\n      changes = {\n        isOpen: false\n      };\n      break;\n\n    case FunctionSetHighlightedIndex:\n      changes = {\n        highlightedIndex: action.highlightedIndex\n      };\n      break;\n\n    case FunctionSelectItem:\n      changes = {\n        selectedItem: action.selectedItem\n      };\n      break;\n\n    case FunctionClearKeysSoFar:\n      changes = {\n        keysSoFar: ''\n      };\n      break;\n\n    case FunctionReset:\n      changes = {\n        highlightedIndex: getDefaultValue(props, 'highlightedIndex'),\n        isOpen: getDefaultValue(props, 'isOpen'),\n        selectedItem: getDefaultValue(props, 'selectedItem')\n      };\n      break;\n\n    default:\n      throw new Error('Reducer called without proper action type.');\n  }\n\n  return _extends({}, state, {}, changes);\n}\n/* eslint-enable complexity */\n\nvar validatePropTypes = getPropTypesValidator(useSelect, propTypes);\nvar defaultProps = {\n  itemToString: itemToString,\n  stateReducer: function stateReducer(s, a) {\n    return a.changes;\n  },\n  getA11yStatusMessage: getA11yStatusMessage$1,\n  getA11ySelectionMessage: getA11ySelectionMessage,\n  scrollIntoView: scrollIntoView,\n  environment: typeof window === 'undefined'\n  /* istanbul ignore next (ssr) */\n  ? {} : window\n};\nuseSelect.stateChangeTypes = stateChangeTypes$1;\n\nfunction useSelect(userProps) {\n  if (userProps === void 0) {\n    userProps = {};\n  }\n\n  validatePropTypes(userProps); // Props defaults and destructuring.\n\n  var props = _extends({}, defaultProps, {}, userProps);\n\n  var items = props.items,\n      itemToString = props.itemToString,\n      getA11yStatusMessage = props.getA11yStatusMessage,\n      getA11ySelectionMessage = props.getA11ySelectionMessage,\n      initialIsOpen = props.initialIsOpen,\n      defaultIsOpen = props.defaultIsOpen,\n      scrollIntoView = props.scrollIntoView,\n      environment = props.environment; // Initial state depending on controlled props.\n\n  var initialState = getInitialState(props); // Reducer init.\n\n  var _useEnhancedReducer = useEnhancedReducer(downshiftSelectReducer, initialState, props),\n      _useEnhancedReducer$ = _useEnhancedReducer[0],\n      isOpen = _useEnhancedReducer$.isOpen,\n      highlightedIndex = _useEnhancedReducer$.highlightedIndex,\n      selectedItem = _useEnhancedReducer$.selectedItem,\n      keysSoFar = _useEnhancedReducer$.keysSoFar,\n      dispatchWithoutProps = _useEnhancedReducer[1];\n\n  var dispatch = function (action) {\n    return dispatchWithoutProps(_extends({\n      props: props\n    }, action));\n  }; // IDs generation.\n\n\n  var _getElementIds = getElementIds(useId, props),\n      labelId = _getElementIds.labelId,\n      getItemId = _getElementIds.getItemId,\n      menuId = _getElementIds.menuId,\n      toggleButtonId = _getElementIds.toggleButtonId;\n  /* Refs */\n\n\n  var toggleButtonRef = useRef(null);\n  var menuRef = useRef(null);\n  var itemRefs = useRef();\n  itemRefs.current = [];\n  var isInitialMount = useRef(true);\n  var shouldScroll = useRef(true);\n  var clearTimeout = useRef(null);\n  /* Effects */\n\n  /* Sets a11y status message on changes in isOpen. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11yStatusMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isOpen]);\n  /* Sets a11y status message on changes in selectedItem. */\n\n  useEffect(function () {\n    if (isInitialMount.current) {\n      return;\n    }\n\n    setStatus(getA11ySelectionMessage({\n      isOpen: isOpen,\n      items: items,\n      selectedItem: selectedItem,\n      itemToString: itemToString\n    }), environment.document); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedItem]);\n  /* Sets cleanup for the keysSoFar after 500ms. */\n\n  useEffect(function () {\n    // init the clean function here as we need access to dispatch.\n    if (isInitialMount.current) {\n      clearTimeout.current = debounce(function () {\n        dispatch({\n          type: FunctionClearKeysSoFar\n        });\n      }, 500);\n    }\n\n    if (!keysSoFar) {\n      return;\n    }\n\n    clearTimeout.current(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [keysSoFar]);\n  /* Controls the focus on the menu or the toggle button. */\n\n  useEffect(function () {\n    // Don't focus menu on first render.\n    if (isInitialMount.current) {\n      // Unless it was initialised as open.\n      if (initialIsOpen || defaultIsOpen || isOpen) {\n        menuRef.current.focus();\n      }\n\n      return;\n    } // Focus menu on open.\n    // istanbul ignore next\n\n\n    if (isOpen) {\n      menuRef.current.focus(); // Focus toggleButton on close.\n    } else if (environment.document.activeElement === menuRef.current) {\n      toggleButtonRef.current.focus();\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isOpen]);\n  /* Scroll on highlighted item if change comes from keyboard. */\n\n  useEffect(function () {\n    if (highlightedIndex < 0 || !isOpen || !itemRefs.current.length) {\n      return;\n    }\n\n    if (shouldScroll.current === false) {\n      shouldScroll.current = true;\n    } else {\n      scrollIntoView(itemRefs.current[highlightedIndex], menuRef.current);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [highlightedIndex]);\n  /* Make initial ref false. */\n\n  useEffect(function () {\n    isInitialMount.current = false;\n  }, []);\n  /* Event handler functions */\n\n  var menuKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowDown,\n        shiftKey: event.shiftKey\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownArrowUp,\n        shiftKey: event.shiftKey\n      });\n    },\n    Home: function Home(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownHome\n      });\n    },\n    End: function End(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnd\n      });\n    },\n    Escape: function Escape() {\n      dispatch({\n        type: MenuKeyDownEscape\n      });\n    },\n    Enter: function Enter(event) {\n      event.preventDefault();\n      dispatch({\n        type: MenuKeyDownEnter\n      });\n    },\n    Tab: function Tab(event) {\n      // The exception that calls MenuBlur.\n      // istanbul ignore next\n      if (event.shiftKey) {\n        dispatch({\n          type: MenuBlur\n        });\n      }\n    }\n  };\n  var toggleButtonKeyDownHandlers = {\n    ArrowDown: function ArrowDown(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowDown\n      });\n    },\n    ArrowUp: function ArrowUp(event) {\n      event.preventDefault();\n      dispatch({\n        type: ToggleButtonKeyDownArrowUp\n      });\n    }\n  }; // Event handlers.\n\n  var menuHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && menuKeyDownHandlers[key]) {\n      menuKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: MenuKeyDownCharacter,\n        key: key\n      });\n    }\n  }; // Focus going back to the toggleButton is something we control (Escape, Enter, Click).\n  // We are toggleing special actions for these cases in reducer, not MenuBlur.\n  // Since Shift-Tab also lands focus on toggleButton, we will handle it as exception and call MenuBlur.\n\n\n  var menuHandleBlur = function (event) {\n    if (event.relatedTarget !== toggleButtonRef.current) {\n      dispatch({\n        type: MenuBlur\n      });\n    }\n  };\n\n  var menuHandleMouseLeave = function () {\n    dispatch({\n      type: MenuMouseLeave\n    });\n  };\n\n  var toggleButtonHandleClick = function () {\n    dispatch({\n      type: ToggleButtonClick\n    });\n  };\n\n  var toggleButtonHandleKeyDown = function (event) {\n    var key = normalizeArrowKey(event);\n\n    if (key && toggleButtonKeyDownHandlers[key]) {\n      toggleButtonKeyDownHandlers[key](event);\n    } else if (isAcceptedCharacterKey(key)) {\n      dispatch({\n        type: ToggleButtonKeyDownCharacter,\n        key: key\n      });\n    }\n  };\n\n  var itemHandleMouseMove = function (index) {\n    if (index === highlightedIndex) {\n      return;\n    }\n\n    shouldScroll.current = false;\n    dispatch({\n      type: ItemMouseMove,\n      index: index\n    });\n  };\n\n  var itemHandleClick = function (index) {\n    dispatch({\n      type: ItemClick,\n      index: index\n    });\n  }; // returns\n\n\n  return {\n    // prop getters.\n    getToggleButtonProps: function getToggleButtonProps(_temp2) {\n      var _extends3;\n\n      var _ref2 = _temp2 === void 0 ? {} : _temp2,\n          onClick = _ref2.onClick,\n          onKeyDown = _ref2.onKeyDown,\n          _ref2$refKey = _ref2.refKey,\n          refKey = _ref2$refKey === void 0 ? 'ref' : _ref2$refKey,\n          ref = _ref2.ref,\n          rest = _objectWithoutPropertiesLoose(_ref2, [\"onClick\", \"onKeyDown\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends3 = {}, _extends3[refKey] = handleRefs(ref, function (toggleButtonNode) {\n        toggleButtonRef.current = toggleButtonNode;\n      }), _extends3.id = toggleButtonId, _extends3['aria-haspopup'] = 'listbox', _extends3['aria-expanded'] = isOpen, _extends3['aria-labelledby'] = labelId + \" \" + toggleButtonId, _extends3.onClick = callAllEventHandlers(onClick, toggleButtonHandleClick), _extends3.onKeyDown = callAllEventHandlers(onKeyDown, toggleButtonHandleKeyDown), _extends3), rest);\n    },\n    getLabelProps: function getLabelProps(labelProps) {\n      return _extends({\n        id: labelId,\n        htmlFor: toggleButtonId\n      }, labelProps);\n    },\n    getMenuProps: function getMenuProps(_temp) {\n      var _extends2;\n\n      var _ref = _temp === void 0 ? {} : _temp,\n          onKeyDown = _ref.onKeyDown,\n          onBlur = _ref.onBlur,\n          onMouseLeave = _ref.onMouseLeave,\n          _ref$refKey = _ref.refKey,\n          refKey = _ref$refKey === void 0 ? 'ref' : _ref$refKey,\n          ref = _ref.ref,\n          rest = _objectWithoutPropertiesLoose(_ref, [\"onKeyDown\", \"onBlur\", \"onMouseLeave\", \"refKey\", \"ref\"]);\n\n      return _extends((_extends2 = {}, _extends2[refKey] = handleRefs(ref, function (menuNode) {\n        menuRef.current = menuNode;\n      }), _extends2.id = menuId, _extends2.role = 'listbox', _extends2['aria-labelledby'] = labelId, _extends2.tabIndex = -1, _extends2), highlightedIndex > -1 && {\n        'aria-activedescendant': getItemId(highlightedIndex)\n      }, {\n        onKeyDown: callAllEventHandlers(onKeyDown, menuHandleKeyDown),\n        onBlur: callAllEventHandlers(onBlur, menuHandleBlur),\n        onMouseLeave: callAllEventHandlers(onMouseLeave, menuHandleMouseLeave)\n      }, rest);\n    },\n    getItemProps: function getItemProps(_temp3) {\n      var _extends4;\n\n      var _ref3 = _temp3 === void 0 ? {} : _temp3,\n          item = _ref3.item,\n          index = _ref3.index,\n          _ref3$refKey = _ref3.refKey,\n          refKey = _ref3$refKey === void 0 ? 'ref' : _ref3$refKey,\n          ref = _ref3.ref,\n          onMouseMove = _ref3.onMouseMove,\n          onClick = _ref3.onClick,\n          rest = _objectWithoutPropertiesLoose(_ref3, [\"item\", \"index\", \"refKey\", \"ref\", \"onMouseMove\", \"onClick\"]);\n\n      var itemIndex = getItemIndex(index, item, items);\n\n      if (itemIndex < 0) {\n        throw new Error('Pass either item or item index in getItemProps!');\n      }\n\n      return _extends((_extends4 = {}, _extends4[refKey] = handleRefs(ref, function (itemNode) {\n        if (itemNode) {\n          itemRefs.current.push(itemNode);\n        }\n      }), _extends4.role = 'option', _extends4), itemIndex === highlightedIndex && {\n        'aria-selected': true\n      }, {\n        id: getItemId(itemIndex),\n        onMouseMove: callAllEventHandlers(onMouseMove, function () {\n          return itemHandleMouseMove(itemIndex);\n        }),\n        onClick: callAllEventHandlers(onClick, function () {\n          return itemHandleClick(itemIndex);\n        })\n      }, rest);\n    },\n    // actions.\n    toggleMenu: function toggleMenu() {\n      dispatch({\n        type: FunctionToggleMenu\n      });\n    },\n    openMenu: function openMenu() {\n      dispatch({\n        type: FunctionOpenMenu\n      });\n    },\n    closeMenu: function closeMenu() {\n      dispatch({\n        type: FunctionCloseMenu\n      });\n    },\n    setHighlightedIndex: function setHighlightedIndex(newHighlightedIndex) {\n      dispatch({\n        type: FunctionSetHighlightedIndex,\n        highlightedIndex: newHighlightedIndex\n      });\n    },\n    selectItem: function selectItem(newSelectedItem) {\n      dispatch({\n        type: FunctionSelectItem,\n        selectedItem: newSelectedItem\n      });\n    },\n    reset: function reset() {\n      dispatch({\n        type: FunctionReset\n      });\n    },\n    // state.\n    highlightedIndex: highlightedIndex,\n    isOpen: isOpen,\n    selectedItem: selectedItem\n  };\n}\n\nexport default Downshift;\nexport { resetIdCounter, useSelect };\n"],"sourceRoot":""}